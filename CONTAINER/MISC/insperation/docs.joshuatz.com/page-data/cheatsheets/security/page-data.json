{
  "componentChunkName": "component---src-templates-directory-index-js",
  "path": "/cheatsheets/security",
  "result": {
    "pageContext": {
      "slug": "cheatsheets/security",
      "hasIndex": false,
      "meta": {
        "id": "7cabc127-a7b0-5f80-91ce-621cc0a8ddc4",
        "name": "security",
        "absolutePath": "/opt/build/repo/md/cheatsheets/security",
        "relativePath": "md/cheatsheets/security",
        "children": {
          "dirs": [],
          "md": [
            {
              "id": "3c0cef73-18ae-5463-b905-041df70839b1",
              "fileAbsolutePath": "/opt/build/repo/md/cheatsheets/security/multi-factor-authentication.md",
              "html": "<h2 id=\"2fa--other-mfa-multi-factor-authentication\" style=\"position:relative;\"><a href=\"#2fa--other-mfa-multi-factor-authentication\" aria-label=\"2fa  other mfa multi factor authentication permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>2FA &#x26; Other MFA (Multi-Factor Authentication))</h2>\n<p>A normal login, with a username and password, requires two pieces of information, but they are inherently the same type - \"something you know\". MFA (<a href=\"https://en.wikipedia.org/wiki/Multi-factor_authentication\" target=\"_blank\" rel=\"nofollow noopener\">Multi-Factor Authentication</a>) adds other types - e.g. \"something you have\" or \"something you are\".</p>\n<p>2FA is a very common subset of MFA, usually adding a piece of \"something you have\" in the form of your smartphone. The phone itself is not usually the factor, but rather its SIM card (if the second factor is a temporary PIN sent via SMS), or an authenticator app that is permitted to generate a temporary secondary password (usually using TOTP - <a href=\"https://en.wikipedia.org/wiki/Time-based_One-time_Password_algorithm\" target=\"_blank\" rel=\"nofollow noopener\">\"Time-based One-Time Password\"</a>).</p>\n<h3 id=\"what-if-you-lose-access\" style=\"position:relative;\"><a href=\"#what-if-you-lose-access\" aria-label=\"what if you lose access permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>What If You Lose Access?</h3>\n<p>In contract with a password, which you can often reset via a temporary emailed link if you forget it, in a lot of systems there is no \"forgot my 2FA\" type of mechanism. So, what if your 2FA is a smartphone app, and you lose your phone, or get mugged, or it just breaks?</p>\n<p>There are still options available, but the best options are those that you need to prepare <strong><em>before</em></strong> anything like this can happen. Such as:</p>\n<ul>\n<li>\n<p>Saving <strong>backup codes</strong></p>\n<ul>\n<li>\n<p>Unlike the main <code>secret</code>, these cannot be used directly to add the same token to a new phone / authenticator app. Instead, these are more analogous to the \"I forgot my password\" recovery flows, where you will have to go to the individual platform (e.g Google), and follow the <a href=\"https://support.google.com/accounts/answer/1187538\" target=\"_blank\" rel=\"nofollow noopener\">specific flow for that platform</a>, which usually requires logging in with user &#x26; pass, then clicking a menu option to use backup code instead of 2FA TOTP.</p>\n<ul>\n<li>Usually these are issued when you setup MFA for the first time, and you might be given a large set (e.g. 10 codes). Usually each one is limited to one use, and then it becomes invalid.</li>\n<li>Although exposing these is not <em>quite</em> as dangerous as exposing the token secret or QR code (see below), it is very close; treat these the same as passwords and carefully store (ideally in an encrypted password manager), and/or print and secure</li>\n<li>\n<p>The benefit to these over just storing the QR code and/or token secret is multi-fold:</p>\n<ul>\n<li>They are usually one-use-only, whereas a token secret could be exploited indefinitely to generate new tokens</li>\n<li>They usually trigger some sort of warning and/or additional challenge-and-response when used, so if someone uses one to get access to your account, you will likely get notified about it, whereas if your token secret was exposed and used, you probably wouldn't</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Saving the <strong>QR code</strong></p>\n<ul>\n<li>\n<p>If a service gives you a QR code to use to save the token to an MFA manager app, that QR code can actually be used forever, unless you trigger a reset by requesting a new code. This is because the QR code <em>must</em> contain the token secret, because it is used to generate the temporary passcodes.</p>\n<ul>\n<li>You could save the QR code (or URI) in an encrypted format, and/or physically print out and store in a secure location</li>\n<li>This is also not a bad way to have a \"if I suddenly die\" type backup for family members</li>\n</ul>\n</li>\n<li>\n<p>QR codes <em>might</em> also contain additional data, such as:</p>\n<ul>\n<li><code>label</code>: Plain text string, which is usually shown to user in manager app.</li>\n<li><code>issuer</code>: Plaint text string, indicating who issued the secret</li>\n<li>... <a href=\"https://passlib.readthedocs.io/en/stable/lib/passlib.totp.html#totp-class\" target=\"_blank\" rel=\"nofollow noopener\">and a few other attributes</a></li>\n</ul>\n</li>\n<li>Remember - just because it is an image instead of readable text does not make it encrypted; do not be mistaken - the QR code contains your secret in plain text, so treat it the same as the secret itself, in terms of keeping it secure</li>\n</ul>\n</li>\n<li>\n<p>Saving the <strong>token secret</strong></p>\n<ul>\n<li>Storing the token secret, in any form, should only be done with <strong>considerable thought</strong> to purpose and security, and generally only as a last resort. If you are careless with your token secret, it kind of defeats the purpose of MFA.</li>\n<li>Should <em>never</em> be stored in plain text, unless perhaps if <em>physically</em> printed out and stored in a secure location</li>\n<li>In comparison with backup codes, this is a way more dangerous option, because using a backup code usually triggers a secondary check and/or notification, whereas if your secret is compromised, someone could be using it for weeks without your knowledge.</li>\n</ul>\n</li>\n</ul>\n<p>Another option, although it also introduces another attack vector (if it can be used standalone for entry), is to simply add more \"factors\" to your account. For example, if an account supports logging in with user+pass and <em>either</em> a TOTP or physical U2F key, then you could use the physical U2F key as your backup, and have the TOTP as the primary, or vice-versa.</p>\n<blockquote>\n<p>Some sites will even let you associate more than one <em>of the same</em> <strong><em>type</em></strong> of factor for the same account. For example, Google allows for more than one U2F key to be registered with the same Google account - and even <a href=\"https://landing.google.com/advancedprotection/\" target=\"_blank\" rel=\"nofollow noopener\"><em>recommends</em> this as a backup plan</a>.</p>\n</blockquote>\n<h3 id=\"synced-2famfa-tokens\" style=\"position:relative;\"><a href=\"#synced-2famfa-tokens\" aria-label=\"synced 2famfa tokens permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Synced 2FA/MFA Tokens</h3>\n<h4 id=\"how-are-synced-2famfa-tokens-safe\" style=\"position:relative;\"><a href=\"#how-are-synced-2famfa-tokens-safe\" aria-label=\"how are synced 2famfa tokens safe permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>How are Synced 2FA/MFA Tokens Safe?</h4>\n<p>Some MFA managers offer the ability to backup and/or sync 2FA/MFA tokens across devices. This is great, because it makes it easier to recover from something like losing access to your phone, but it raises the question of \"how is it secure?\"</p>\n<p>Using <a href=\"https://support.authy.com/hc/en-us/articles/115001750008-Backups-and-Sync-in-Authy\" target=\"_blank\" rel=\"nofollow noopener\">Authy's popular backup and sync feature</a> as an example, the way it is usually done is that the tokens are encrypted with an <strong><em>additional</em></strong> password that <em>you create</em>, and only the encrypted blob of tokens (plus a <em>salt</em>, if used with password) is uploaded / synced. Things that are <em>never</em> synced are:</p>\n<ul>\n<li>The raw un-encrypted 2FA tokens</li>\n<li>Your special \"backup\" password, used to encrypt tokens for this sync feature (***)</li>\n</ul>\n<blockquote>\n<p><em>** = Some MFA managers actually *do</em> sync the \"backup\" password (in a hashed form of course), which one could argue decreases the security of the system. For example, <a href=\"https://techcommunity.microsoft.com/t5/azure-active-directory-identity/cloud-backup-and-recovery-for-the-microsoft-authenticator-app-on/ba-p/566369\" target=\"_blank\" rel=\"nofollow noopener\">the backup feature of Microsoft's Authenticator App</a> very clearly uses your Microsoft Account itself as the backup password - so if that became compromised, someone could sync and decrypt/restore your backup on their own device, getting access to tokens.</p>\n</blockquote>\n<blockquote>\n<p>Some MFA managers might also sync the entire QR code that was used to add each token, or a partial subset of it.</p>\n</blockquote>\n<p>If you are especially paranoid, but still want to use this feature, you might want to add the codes you want to sync manually, instead of via QR, as if the service syncs the QR data, it might contain your email address that corresponds with the data (see <a href=\"https://support.authy.com/hc/en-us/articles/360012304753-Authy-Backup-FAQs\" target=\"_blank\" rel=\"nofollow noopener\">Authy Backup FAQ</a>).</p>\n<h4 id=\"why-use-synced-2famfa-tokens\" style=\"position:relative;\"><a href=\"#why-use-synced-2famfa-tokens\" aria-label=\"why use synced 2famfa tokens permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Why Use Synced 2FA/MFA Tokens?</h4>\n<p>The main benefit to using a service that lets you sync / migrate / backup 2FA/MFA tokens is really felt if you have a lot of them; it lets you migrate them in <strong>bulk</strong>.</p>\n<p>Most uses of MFA already have a system in place to allow for tokens to be re-issued, or in the case of a lockout, using \"backup codes\" to recover an account. However, these have to be used on a per account basis - if you have just three accounts you use MFA with, that might still take 20 minutes of work to migrate to a new phone; logging into each account, issuing new tokens to use with the new phone, or in the case of a lockout, finding and using your backup codes (that might have been issued <em>years</em> ago at this point).</p>\n<blockquote>\n<p>🚨 👉 All this being said, <strong><em>it is 1000% important that you still keep all your per-account backup codes safe, and don't rely on a third-party sync service to save you in case of trouble!!!</em></strong></p>\n</blockquote>",
              "fields": {
                "title": "Multi-Factor Authentication (MFA) - Notes",
                "slug": "/cheatsheets/security/multi-factor-authentication/",
                "modifiedStampMs": 1607518017000,
                "createdStampMs": 1606925210000
              },
              "parent": {
                "absolutePath": "/opt/build/repo/md/cheatsheets/security/multi-factor-authentication.md",
                "relativePath": "cheatsheets/security/multi-factor-authentication.md",
                "base": "multi-factor-authentication.md",
                "name": "multi-factor-authentication"
              }
            },
            {
              "id": "ada16a01-96b5-579e-bc04-9f6ba4856ab1",
              "fileAbsolutePath": "/opt/build/repo/md/cheatsheets/security/jwt.md",
              "html": "<h1 id=\"resources\" style=\"position:relative;\"><a href=\"#resources\" aria-label=\"resources permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Resources</h1>\n<table>\n<thead>\n<tr>\n<th>What</th>\n<th>Type</th>\n<th>Link</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Wikipedia page - surprisingly dev focused</td>\n<td>Wiki</td>\n<td><a href=\"https://en.wikipedia.org/wiki/JSON_Web_Token\" target=\"_blank\" rel=\"nofollow noopener\">Wiki En</a></td>\n</tr>\n<tr>\n<td>RFC spec from IETF</td>\n<td>Spec</td>\n<td><a href=\"https://tools.ietf.org/html/rfc7519\" target=\"_blank\" rel=\"nofollow noopener\">RFC #7519</a></td>\n</tr>\n<tr>\n<td>JWT Debugger, Libraries, &#x26; More</td>\n<td>Playground &#x26; Quick Ref</td>\n<td><a href=\"https://jwt.io/\" target=\"_blank\" rel=\"nofollow noopener\">jwt.io</a></td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"intro---what-is-a-jwt\" style=\"position:relative;\"><a href=\"#intro---what-is-a-jwt\" aria-label=\"intro   what is a jwt permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Intro - What <strong><em>is</em></strong> a JWT?</h1>\n<p>JSON Web Tokens, or JWTs, are a 'stateless' (more on this later) approach to authentication and session management, where the information about the auth or session (is user admin? Permissions? Etc.) can be stored <strong><em>within</em></strong> the token itself, rather than on the server.</p>\n<p>Essentially, you can think of JWT as a <strong>container</strong> full of <strong>truths</strong> that the server has sent (these are called <em>claims</em> in JWT terms), and metadata about how these \"truths\" are stored (the algorithm and type).</p>\n<p>In the most practical terms, a JWT can be represented as a single string, which you will see later.</p>\n<h1 id=\"stateless-what-does-that-mean\" style=\"position:relative;\"><a href=\"#stateless-what-does-that-mean\" aria-label=\"stateless what does that mean permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Stateless? What does that mean?</h1>\n<p>JWTs are not <em>always</em> part of a stateless system, but the way they are composed lends them to that sort of setup.</p>\n<p>With a typical non-JWT system, if you want to handle authentication and different permissions for different people, you usually use a combination of sessions and server-side storage - this would be your <strong><em>state</em></strong>. When a user logs in, you create a new <code>session</code> for them, with a unique ID, and to check permissions, you lookup their user ID against a permissions table and/or roles table. Each page that you load might require multiple DB lookups, to check for a valid session, then get roles, then get permissions, etc.</p>\n<p>By contrast, with JWT, all the information about both the validity of the user (being logged in) and their role and/or permissions, is contained <strong><em>directly within the JWT string itself</em></strong>. The server, upon receiving an incoming JWT, simply has to verify that it is valid, but doesn't necessarily have to do any database lookups. This can make it stateless.</p>\n<p>There are downsides to the this approach however, which will be discussed later.</p>\n<h1 id=\"breaking-it-down-further---the-parts-of-a-jwt\" style=\"position:relative;\"><a href=\"#breaking-it-down-further---the-parts-of-a-jwt\" aria-label=\"breaking it down further   the parts of a jwt permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Breaking it down further - the parts of a JWT</h1>\n<p>JWTs can seem overwhelming, so let's break them down part by part:</p>\n<h2 id=\"what-do-they-actually-look-like\" style=\"position:relative;\"><a href=\"#what-do-they-actually-look-like\" aria-label=\"what do they actually look like permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>What do they actually look like?</h2>\n<p>First, you might be wondering what a JWT actually looks like. Well, the final string that is sent from the server to the client, to be stored in <code>localStorage</code>, <code>sessionStorage</code>, or a cookie, can look like this (real example):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiQm9iYnkgVGFibGVzIiwiaWF0IjoxNTE2MjM5MDIyLCJpc0FkbWluIjp0cnVlLCJwZXJtaXNzaW9ucyI6eyJ1c2Vyc01ha2UiOnRydWUsInVzZXJzQmFuIjp0cnVlLCJ1c2Vyc0RlbGV0ZSI6ZmFsc2V9fQ.HFRcI4qU2lyvDnXhO-cSTkhvhrTCyXv6f6wXSJKGbFk</code></pre></div>\n<p>Enlightening, huh? Well, it's a lot less scary once you find out this is all it is:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">base64Url(header) + &#39;.&#39; + base64Url(payload) + &#39;.&#39; + base64Url(signature)</code></pre></div>\n<p>Let's break it down further...</p>\n<h2 id=\"the-pieces\" style=\"position:relative;\"><a href=\"#the-pieces\" aria-label=\"the pieces permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>The pieces</h2>\n<p>As you saw above, the JWT is made up of three major components, each of which is base64 encoded (with the <a href=\"https://en.wikipedia.org/wiki/Base64#RFC_4648\" target=\"_blank\" rel=\"nofollow noopener\">web-safe variant</a>, to avoid characters that could screw up a URL) before being joined together. Each of these components, except the signature, is also a JSON object before encoding, but more on that below:</p>\n<h4 id=\"header\" style=\"position:relative;\"><a href=\"#header\" aria-label=\"header permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Header:</h4>\n<p>The header is the part that contains the <em>metadata</em> about the JWT itself. At the bare minimum, this will contain the type of algorithm used to encrypt the signature, but sometimes also contains extra metadata, like the type of token itself (<code>JWT</code>).</p>\n<p>Example:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"alg\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"HS256\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"typ\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"JWT\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>In this example, the header is saying \"Hey, I'm a token of type JWT, with an encryption algorithm of HS256!\"</p>\n<h4 id=\"payload\" style=\"position:relative;\"><a href=\"#payload\" aria-label=\"payload permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Payload:</h4>\n<p>The payload is really the most important part in terms of functionality, not security. The payload contains the <code>claims</code> (or <em>truths</em> as I previously called them), that the server is saying belong to whomever holds the JWT and can send it back to the server.</p>\n<p>When the user sends the JWT <em>back</em> to the server, via a header, URL, cookie, etc., the server decodes the payload and can use it in thousands of ways; for example, by allowing the user to make a \"delete\" action because one of the claims is that they are an admin.</p>\n<p>Example payload:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Bobby Tables\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"iat\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1516239022</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"isAdmin\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"permissions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t <span class=\"token property\">\"usersMake\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\t\t <span class=\"token property\">\"usersBan\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\t\t <span class=\"token property\">\"usersDelete\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>There are no mandatory key-pairs that your payload must have, although there are some that are standardized and common. For example, <code>iat</code> is a registered claim for <code>issued at</code>, and if included, must be a number representing the timestamp the JWT was issued. You should avoid conflicting with reserved/registered claim names. You can read more about them in the original spec, <a href=\"https://tools.ietf.org/html/rfc7519#section-4\" target=\"_blank\" rel=\"nofollow noopener\">here</a>.</p>\n<blockquote>\n<p>Reminder: You should try to keep both keys and values short, since JWT is designed to be small.</p>\n</blockquote>\n<h4 id=\"signature\" style=\"position:relative;\"><a href=\"#signature\" aria-label=\"signature permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Signature:</h4>\n<p>The signature of a JWT is the most important part when it comes to security. Essentially it is the value of the header + payload, put through a one-way encryption hashing function that uses a <em>secret</em> that <strong><em>ONLY</em></strong> the server or other trusted entities know.</p>\n<p>If you base64 decode the value, it looks like gibberish, because it is a secure hash:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.T\\#..Ú\\¯.uá;ç.NHo.´ÂÉ{ú.¬.H..lY</code></pre></div>\n<p>The pseudo code to generate this hash, on the server, looks something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">HMACSHA256(\n\tbase64Url(header) + &quot;.&quot; +\n\tbase64Url(payload),\n\tSECRET_KEY\n);</code></pre></div>\n<p>The signature is a way for the server to, using its secret key**, validate that the JWT a user sends it is both valid, and created by itself or trusted creator.</p>\n<p>(PS: The secret key I used throughout my examples here was <code>krusty-krab-krabby-patty-secret-formula</code>).</p>\n<blockquote>\n<p>** = If using <em>asymmetric encryption</em>, you can use public key to validate. See \"Signing Algorithms\" subsection under \"How is it secure?\" section. </p>\n</blockquote>\n<h2 id=\"breakdown-summary---putting-it-back-together\" style=\"position:relative;\"><a href=\"#breakdown-summary---putting-it-back-together\" aria-label=\"breakdown summary   putting it back together permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Breakdown summary - putting it back together</h2>\n<p>So, to summarize and show how these parts fit together once again, we are taking:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> header <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token string\">\"alg\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"HS256\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token string\">\"typ\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"JWT\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> payload <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token string\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Bobby Tables\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token string\">\"iat\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1516239022</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token string\">\"isAdmin\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token string\">\"permissions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t <span class=\"token string\">\"usersMake\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\t\t <span class=\"token string\">\"usersBan\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\t\t <span class=\"token string\">\"usersDelete\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>...making a signature by using a one-way encryption algo...</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Pseudo code</span>\n<span class=\"token keyword\">const</span> signature <span class=\"token operator\">=</span> <span class=\"token function\">hashHS256</span><span class=\"token punctuation\">(</span>header<span class=\"token punctuation\">,</span> payload<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">withSecret</span><span class=\"token punctuation\">(</span><span class=\"token constant\">SECRET_KEY</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>...and finally joining the parts together into a single string, after base64'ing each part:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Pseudo code</span>\n<span class=\"token keyword\">const</span> jwtString <span class=\"token operator\">=</span> <span class=\"token function\">base64Url</span><span class=\"token punctuation\">(</span>header<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'.'</span> <span class=\"token operator\">+</span> <span class=\"token function\">base64Url</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'.'</span> <span class=\"token operator\">+</span> <span class=\"token function\">base64Url</span><span class=\"token punctuation\">(</span>signature<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1 id=\"how-is-it-secure\" style=\"position:relative;\"><a href=\"#how-is-it-secure\" aria-label=\"how is it secure permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>How is it secure?</h1>\n<p>The security mechanism of JWT rests in its signature component (outlined above). To break it down further, when a user sends a JWT back to the server, the way the server checks to make sure that the claims should be trusted, is by validating the signature through:</p>\n<ol>\n<li>Take incoming header and payload</li>\n<li>Add <code>SECRET_KEY</code> that only the server and validator(s) know**</li>\n<li>\n<p>Put header, payload, and secret, through one-way encryption hash</p>\n<ul>\n<li>This creates a server-generated signature</li>\n</ul>\n</li>\n<li>Check that the newly created signature matches the one sent in the JWT by the user</li>\n<li>If they match, that proves that the JWT the user sent was indeed created with the same <em>secret</em> owned by the server!</li>\n</ol>\n<p>Please note that the strength of the security is strongly linked to your secret key - use a suitably long key (to <a href=\"https://auth0.com/blog/brute-forcing-hs256-is-possible-the-importance-of-using-strong-keys-to-sign-jwts/\" target=\"_blank\" rel=\"nofollow noopener\">avoid brute force attempts</a>) that is never shared.</p>\n<blockquote>\n<p>Side note: In <em>addition</em> to validating signatures, servers often also validate JWTs by checking that they conform to the expected structure and standards. See <a href=\"https://auth0.com/docs/tokens/guides/jwt/validate-jwt\" target=\"_blank\" rel=\"nofollow noopener\">this auth0 guide</a> for details.</p>\n</blockquote>\n<blockquote>\n<p>** = or public key, if using <em>asymmetric</em> encryption, see below.</p>\n</blockquote>\n<h2 id=\"signing-algorithms\" style=\"position:relative;\"><a href=\"#signing-algorithms\" aria-label=\"signing algorithms permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Signing Algorithms</h2>\n<p>In these examples, I'm using HMAC, which is a <em>symmetric algorithm</em>, meaning that there is only one private key and no public key. In order for more than one party to be able to create <em>or</em> validate a JWT, they must have the secret key.</p>\n<p>With an <em>asymmetric algorithm</em>, a secret key is still used to <em>create</em> tokens, but a public key can also be used to confirm validity. This means that another server could create the JWT, and your server could still validate it by checking against the public key, without needing to share the private/secret key. This method is often preferred because it is a way for multiple parties to be able to validate, while only those with the private key can actually create tokens.</p>\n<p>I won't get any further into the details here, since this is supposed to be an intro, but you can read more <a href=\"https://auth0.com/docs/tokens/concepts/signing-algorithms\" target=\"_blank\" rel=\"nofollow noopener\">here</a>.</p>\n<h1 id=\"downside-to-jwt-logging-users-out--invalidating-tokens\" style=\"position:relative;\"><a href=\"#downside-to-jwt-logging-users-out--invalidating-tokens\" aria-label=\"downside to jwt logging users out  invalidating tokens permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Downside to JWT: Logging users out / invalidating tokens</h1>\n<p>So far, JWTs seem like they have numerous benefits over stateful authentication methods, but something we have not yet discussed is logging users out, deleting users, or otherwise invalidating or revoking tokens.</p>\n<p>The truth is, this is where JTWs fall short. In order to invalidate a JWT, you <em>need</em> to have some sort of database / stateful system, because what you end up doing is maintaining either a blocklist or an allowlist.</p>\n<p>With a blocklist, whenever you want to invalidate a token, you would add it to the blocklist table, and whenever a user tries to use a JWT, you would always need to check that it is not on the blocklist.</p>\n<p>With an allowlist, it is basically the same thing, but add every token to the allowlist as it is created, and remove it from the allowlist when invalidating. And every incoming JWT would only be accepted if it <em>is</em> on the allowlist.</p>\n<p>If you have to use either of these approaches, in my opinion that is symptomatic of your needs not aligning with what JWTs can provide, and it might be time to rethink your websites architecture to see if there is not a better alternative.</p>\n<h2 id=\"avoiding-state-auto-expiring-sessions\" style=\"position:relative;\"><a href=\"#avoiding-state-auto-expiring-sessions\" aria-label=\"avoiding state auto expiring sessions permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Avoiding state: Auto-expiring sessions</h2>\n<p>A pretty common workaround for sites avoiding having to implement a stateful JWT system for logging out users is to just auto-expire tokens quickly.</p>\n<p>For example, you could either put the creation time of the JWT inside of its own payload, and/or the planned expiration time. Then, when validating incoming JWTs, simply check if the expiration time is earlier or equal to the current time - if so, reject the JWT.</p>\n<p>The problem with this is that it is still a bit of a stop-gap solution and can end up being <em>more</em> complicated than just using sessions in the first place. In order to not have users getting constantly logged out while actively using the site (annoying!), you would need to use auto-refreshing JWTs, probably through a service like <a href=\"https://auth0.com/docs/tokens/refresh-token/current\" target=\"_blank\" rel=\"nofollow noopener\">Auth0's Refresh Tokens</a>. This still doesn't allow for a manual log-out flow, unless you also introduce revoking as part of the refresh pattern.</p>\n<h2 id=\"avoiding-state-lazy-invalidation\" style=\"position:relative;\"><a href=\"#avoiding-state-lazy-invalidation\" aria-label=\"avoiding state lazy invalidation permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Avoiding state: Lazy invalidation</h2>\n<p>Imagine that you need to substantially upgrade your user management system, and force everyone to switch. A workaround that is unfortunately suggested by a lot of devs online, but is less than ideal, is to... change your private key secret. If you do that, you <em>immediately</em> invalidate <strong><em>all</em></strong> JWTs in circulation and force everyone to login again, since the signature portion of everyones' JWTs will no longer match.</p>\n<h1 id=\"note-on-complexity-vulnerabilities-and-more\" style=\"position:relative;\"><a href=\"#note-on-complexity-vulnerabilities-and-more\" aria-label=\"note on complexity vulnerabilities and more permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Note on complexity, vulnerabilities, and more:</h1>\n<p>There is still lots to JWT that I have not covered fully in this post (it's supposed to be an intro, in my excuse). The reality is that many developers use a third party service (aka a <em>Federated Identity Management</em> service), such as <a href=\"https://auth0.com/blog/why-identity-federation-matters/\" target=\"_blank\" rel=\"nofollow noopener\">Auth0</a>, to manage the majority of the JWT stack. This won't magically solve many of the issues I've outlined with JWT, but it will make working with them easier and abstract some of the complexity and security concerns.</p>",
              "fields": {
                "title": "JWT (aka JSON Web Tokens) Cheat Sheet",
                "slug": "/cheatsheets/security/jwt/",
                "modifiedStampMs": 1595097672000,
                "createdStampMs": 1569582632000
              },
              "parent": {
                "absolutePath": "/opt/build/repo/md/cheatsheets/security/jwt.md",
                "relativePath": "cheatsheets/security/jwt.md",
                "base": "jwt.md",
                "name": "jwt"
              }
            },
            {
              "id": "b56ed3c6-b46a-5f23-a91f-048455ce001c",
              "fileAbsolutePath": "/opt/build/repo/md/cheatsheets/security/oauth.md",
              "html": "<h1 id=\"oauth-oauth-20---cheatsheet\" style=\"position:relative;\"><a href=\"#oauth-oauth-20---cheatsheet\" aria-label=\"oauth oauth 20   cheatsheet permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>OAuth (OAuth 2.0) - Cheatsheet</h1>\n<h2 id=\"elevator-pitch\" style=\"position:relative;\"><a href=\"#elevator-pitch\" aria-label=\"elevator pitch permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Elevator pitch:</h2>\n<p>OAuth is an agreed-upon <em>standard</em> around securing API usage, that is a (scoped) <em>access token exchange</em> based scheme, as an alternative to hardcoded passwords, or auth tokens that are scoped to the entire account.</p>\n<p>A key differentiator of OAuth is that it is a form of <strong><em>delegated access</em></strong> - you are accessing protected resources that a user has <em>granted</em> you limited access to, as opposed to accessing them <em>as</em> the user.</p>\n<hr>\n<h2 id=\"image-overview\" style=\"position:relative;\"><a href=\"#image-overview\" aria-label=\"image overview permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Image Overview:</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/12d9f0ff62a06fe14c1154485f2e2924/eea4a/oauth-2-overview-intersystems.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQCA//EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAG2nnQwZFf/xAAbEAACAgMBAAAAAAAAAAAAAAABAwIUESEiMv/aAAgBAQABBQKTJW2aio5WQLDBwvx//8QAFhEAAwAAAAAAAAAAAAAAAAAAAAEx/9oACAEDAQE/AXBQ/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Bp//EABgQAQEBAQEAAAAAAAAAAAAAAAABEQIh/9oACAEBAAY/ApxvjUrVR//EABoQAAIDAQEAAAAAAAAAAAAAAAABESExQVH/2gAIAQEAAT8hqVPncGb0eDXGsgIX6ICqkf/aAAwDAQACAAMAAAAQ7y//xAAWEQEBAQAAAAAAAAAAAAAAAAABEQD/2gAIAQMBAT8Qu5igu//EABcRAQEBAQAAAAAAAAAAAAAAAAEAETH/2gAIAQIBAT8QQ5Pb/8QAHBABAAIDAAMAAAAAAAAAAAAAAQARITFBUXGx/9oACAEBAAE/EBlEhaPR3cXcKMtvfc0LDeK6xyy4ljIUxBJ4+zeFC1ees//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Image Overview\"\n        title=\"Image Overview\"\n        src=\"/static/12d9f0ff62a06fe14c1154485f2e2924/4b190/oauth-2-overview-intersystems.jpg\"\n        srcset=\"/static/12d9f0ff62a06fe14c1154485f2e2924/e07e9/oauth-2-overview-intersystems.jpg 200w,\n/static/12d9f0ff62a06fe14c1154485f2e2924/066f9/oauth-2-overview-intersystems.jpg 400w,\n/static/12d9f0ff62a06fe14c1154485f2e2924/4b190/oauth-2-overview-intersystems.jpg 800w,\n/static/12d9f0ff62a06fe14c1154485f2e2924/e5166/oauth-2-overview-intersystems.jpg 1200w,\n/static/12d9f0ff62a06fe14c1154485f2e2924/eea4a/oauth-2-overview-intersystems.jpg 1280w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<em>From <a href=\"https://www.youtube.com/watch?v=CPbvxxslDTU\" target=\"_blank\" rel=\"nofollow noopener\">InterSystems Overview</a></em></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 561px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7f27e6c6fd508cdca8f6e6a7d5866ba1/410f3/oauth-2-overview-digitalocean.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVQoz3VSa2+DMAzk///Ffeiman3QljdO/EjYxUA3VasVkCPs892Z6vgIX3e69nwf+bsJly7WPZ/a0EyyvImct6RKZqaiHoZjtrwP8ZqMHlURqdCTUip462cpQKLWToLhzSgPP0CNMaInSKr7aCmjbGvO3py3ZjxpIO1m6WbtSAJbRpFZM8ZTy583uvQ8UqzAMz9FLMvGP2XWtJ+Ma/IIIWC+COONvKIoA8kQbGbrSSMLitBNkjAQh9hYy2RgMnNakazk1RT41sdDTR/n6dxFigw30NO45sfIjghppRqi6kFAu7gAw1baEA0nnDYKGKOGoDjQjIKykWLwpmgkRT0qf91eDcf1rwXLbqSvN0MqgBZQN0X+uir1VUexMdgUiwsYnHw0aK+rgv9ivqoXt8VZB1YXLPeBsTBcwRqSMRCIhxtRSbUSD9sD8KsyTJiiYgWohl+5/FYGYCRLLtfi9sZpj6f+f+PS0vE+n1s6XCf8Zz8raPmoqUMCZgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Image Overview\"\n        title=\"Image Overview\"\n        src=\"/static/7f27e6c6fd508cdca8f6e6a7d5866ba1/410f3/oauth-2-overview-digitalocean.png\"\n        srcset=\"/static/7f27e6c6fd508cdca8f6e6a7d5866ba1/772e8/oauth-2-overview-digitalocean.png 200w,\n/static/7f27e6c6fd508cdca8f6e6a7d5866ba1/e17e5/oauth-2-overview-digitalocean.png 400w,\n/static/7f27e6c6fd508cdca8f6e6a7d5866ba1/410f3/oauth-2-overview-digitalocean.png 561w\"\n        sizes=\"(max-width: 561px) 100vw, 561px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<em>From <a href=\"https://www.digitalocean.com/community/tutorials/an-introduction-to-oauth-2\" target=\"_blank\" rel=\"nofollow noopener\">Digital Ocean Overview</a></em></p>\n<hr>\n<h2 id=\"resources\" style=\"position:relative;\"><a href=\"#resources\" aria-label=\"resources permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Resources:</h2>\n<table>\n<thead>\n<tr>\n<th>What</th>\n<th>Type</th>\n<th>Link</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Short video overview</td>\n<td>Video</td>\n<td><a href=\"https://www.youtube.com/watch?v=CPbvxxslDTU\" target=\"_blank\" rel=\"nofollow noopener\">Link</a></td>\n</tr>\n<tr>\n<td>Digital Ocean Intro (excellent overview)</td>\n<td>Tutorial / Post</td>\n<td><a href=\"https://www.digitalocean.com/community/tutorials/an-introduction-to-oauth-2\" target=\"_blank\" rel=\"nofollow noopener\">Link</a></td>\n</tr>\n<tr>\n<td>Testing playground</td>\n<td>Interactive</td>\n<td><a href=\"https://www.oauth.com/playground\" target=\"_blank\" rel=\"nofollow noopener\">Link</a></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2 id=\"steps-to-oauth-20\" style=\"position:relative;\"><a href=\"#steps-to-oauth-20\" aria-label=\"steps to oauth 20 permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Steps to OAuth (2.0)</h2>\n<h3 id=\"app-registration\" style=\"position:relative;\"><a href=\"#app-registration\" aria-label=\"app registration permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>App registration</h3>\n<p>This is usually done far in advance of the main auth flow, so I wouldn't really consider it part of the main steps. It is more a pre-requisite to using OAuth.</p>\n<ol>\n<li>\n<p>Register your application with the API / service:</p>\n<ul>\n<li>\n<p>By providing...</p>\n<ul>\n<li>Application Name</li>\n<li>Application Website</li>\n<li>Redirect URI / Callback URL (more on this later)</li>\n</ul>\n</li>\n<li>\n<p>in order to obtain...</p>\n<ul>\n<li>Client ID (Public)</li>\n<li>Client Secret (Private)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"main-auth-flow-assuming-auth-code\" style=\"position:relative;\"><a href=\"#main-auth-flow-assuming-auth-code\" aria-label=\"main auth flow assuming auth code permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Main Auth Flow: (assuming Auth Code)</h3>\n<h4 id=\"summary\" style=\"position:relative;\"><a href=\"#summary\" aria-label=\"summary permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Summary:</h4>\n<ol>\n<li>Authorization Request (Outgoing)</li>\n<li>Authorization Grant (Incoming)</li>\n<li>Token Exchange / Request Access Token (Outgoing)</li>\n<li>Receive Access Token (Incoming)</li>\n<li>Use the token! (Outgoing, repeatable)</li>\n</ol>\n<h4 id=\"detailed\" style=\"position:relative;\"><a href=\"#detailed\" aria-label=\"detailed permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Detailed:</h4>\n<ol>\n<li>\n<p>Authorization Request</p>\n<ul>\n<li>\n<p><strong>WHAT</strong>:</p>\n<ul>\n<li>Your app asks the <strong><em>user</em></strong> to authorize it, and grant <em>scoped</em> access to parts of their account</li>\n</ul>\n</li>\n<li>\n<p><strong>HOW</strong></p>\n<ul>\n<li>\n<p>Your app should construct a URL that is the API/service endpoint + ...</p>\n<ul>\n<li>\n<p><code>client_id</code></p>\n<ul>\n<li>Previously obtained</li>\n</ul>\n</li>\n<li>\n<p><code>redirect_uri</code></p>\n<ul>\n<li>Where should the service send the user back to, along with the auth code, if the user approves</li>\n<li>This is also called a <em>callback url</em></li>\n<li><code>example.com/authCallback.php</code></li>\n</ul>\n</li>\n<li>\n<p><code>scope</code>*</p>\n<ul>\n<li>String that represents what you want the user to authorize your app to access</li>\n<li>For Google, this might be <code>profile</code> and <code>email</code></li>\n</ul>\n</li>\n<li>\n<p><code>response_type</code>**</p>\n<ul>\n<li>Corresponds with the <em>grant type</em></li>\n</ul>\n</li>\n<li><code>state</code>**</li>\n</ul>\n</li>\n<li>* = unique per API</li>\n<li>\n<p>** = sometimes optional, and unique per API</p>\n<ul>\n<li><code>response_type</code> is often assumed based on endpoint, or maybe the API only supports one type of grant</li>\n<li>\n<p><code>state</code> is a randomized string that can serve multiple purposes:</p>\n<ul>\n<li>Use a session identifier (instead of Cookie)</li>\n<li>Protection against CSRF (if you make sure to check that the callback <code>state</code> === request <code>state</code>)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>You then redirect the user to this constructed URL, in the same tab / webview / etc.</p>\n<ul>\n<li>You wouldn't normally open in new tab or try AJAX, since new tab would require polling, and AJAX doesn't make sense since they have to login and approve your app</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>EXAMPLES</strong></p>\n<ul>\n<li>\n<p>Example: Ask Google user for read-only access to see basic account identity stuff (name, email, ID) to prove identity</p>\n<ul>\n<li>This is basically how <a href=\"https://developers.google.com/identity/sign-in/web/\" target=\"_blank\" rel=\"nofollow noopener\">Google Sign-in For Websites works</a>.</li>\n</ul>\n</li>\n<li>Example: Ask Twitter user for \"Read and Write\" access to account, so you can build an App that automates scheduled posting.</li>\n<li>Example: Ask Github user for access to <code>notifications</code> scope, so you can relay notifications from Github to Slack</li>\n</ul>\n</li>\n<li>\n<p><strong>CODE</strong></p>\n<ul>\n<li><code>https://github.com/login/oauth/authorize&#x26;client_id={{CLIENT_ID}}&#x26;redirect_uri={{https://example.com/authCallback.php}}&#x26;scope={{notifications}}&#x26;state={{asld!f93Cb20}}</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Authorization grant (or deny) --- <strong>INCOMING - receiving the response</strong></p>\n<ul>\n<li>\n<p><strong>WHAT</strong></p>\n<ul>\n<li>After the user either approves or denies your request for granted access (see: <a href=\"#The-Authorization-Grant-Approval-Screen\">The Authorization Grant Approval Screen</a>), the user will be redirected to the redirect URI that you specified, with information from the third-party service appended as a querystring.</li>\n</ul>\n</li>\n<li>\n<p><strong>HOW</strong></p>\n<ul>\n<li>This should happen automatically after the user clicks either the approve or deny button on the approval screen.</li>\n</ul>\n</li>\n<li>\n<p><strong>EXAMPLES</strong></p>\n<ul>\n<li>User approves request and is redirected to our callback page at <code>https://example.com/authCallback.php?code={{AUTH_CODE}}&#x26;scope={{notifications}}&#x26;state={{asld!f93Cb20}}</code></li>\n<li>User denies request and is redirected to our callback page at <code>https://example.com/authCallback.php?error=access_denied&#x26;state={{asld!f93Cb20}}</code></li>\n</ul>\n</li>\n<li>\n<p><strong>CODE</strong></p>\n<ul>\n<li>Grabbing querystrings param is pretty easy regardless of language... quick examples:</li>\n<li>\n<p>PHP:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$authCode</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'code'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>JS:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> authCode <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>search<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'code='</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">code=([^&amp;]+)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>search<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Token exchange / Access token request --- <strong>OUTGOING</strong></p>\n<ul>\n<li>\n<p><strong>WHAT</strong></p>\n<ul>\n<li>In this step, we are taking the auth code that we just received via GET query parameters, and using it as part of a GET or POST request, to exchange the granted auth code for a <em>access token</em>. The <em>access token</em> is the meat of OAUTH and what will be used all by future API requests by our app.</li>\n<li>You might be wondering why this step is necessary, and why couldn't step 2 simply return the access token instead of an auth code? The short answer is security - see <a href=\"#Some-security-considerations\">my sidenote</a></li>\n</ul>\n</li>\n<li>\n<p><strong>HOW</strong></p>\n<ul>\n<li>We will take the auth code we just received, bundle it with our client ID and Client Secret, and make a request to the endpoint of the API to get an access token</li>\n</ul>\n</li>\n<li>\n<p><strong>EXAMPLES</strong></p>\n<ul>\n<li>For GitHub, you POST to <code>https://github.com/login/oauth/access_token</code>, which returns a token that should be valid indefinitely, until the user revokes the app</li>\n</ul>\n</li>\n<li>\n<p><strong>CODE</strong></p>\n<ul>\n<li>Since this is using a <code>client_secret</code>, any of these examples should only be running server-side</li>\n<li>PHP: <a href=\"https://gist.github.com/aaronpk/3612742\" target=\"_blank\" rel=\"nofollow noopener\">gist</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Receive <em>Access Token</em> / <em>Access Token</em> grant --- <strong>INCOMING</strong></p>\n<ul>\n<li>\n<p><strong>WHAT</strong></p>\n<ul>\n<li>In response to the GET or POST request in step 3, in which we sent our temporary <code>auth code</code>, <code>client_secret</code>, and <code>client_id</code>, we should get back a response that includes the final <code>access_token</code>. It might also include extra information, like when the token expires, the granted scope, <code>token_type</code>, etc.</li>\n</ul>\n</li>\n<li>\n<p><strong>HOW</strong></p>\n<ul>\n<li>Usually APIs return this response as <code>json</code>, so grabbing the final <code>access_token</code> should only take a line or two of code, given how almost every programming language has a JSON parser either natively or through a common lib.</li>\n<li>As a dev, you will want to <em>persist</em> this token, usually in a DB, session, or some other storage, since tokens usually don't expire for a long time, but browser sessions do. If you don't persist the token and instead keep it with your user's session, that would mean that every time they log out and then back into your app, they would have to re-authorize OAuth as well!</li>\n</ul>\n</li>\n<li>\n<p><strong>EXAMPLES</strong></p>\n<ul>\n<li>The GitHub API currently returns <code>access_token</code>, <code>scope</code> (comma separated), and <code>token_type</code> (\"bearer\").</li>\n</ul>\n</li>\n<li>\n<p><strong>CODE</strong></p>\n<ul>\n<li>Should be self-explanatory</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Use the token!</p>\n<ul>\n<li>\n<p><strong>WHAT</strong></p>\n<ul>\n<li>Now, every time we need to make an API call to our third-party service, we will need to include the <code>access_token</code> in some form or another</li>\n</ul>\n</li>\n<li>\n<p><strong>HOW</strong></p>\n<ul>\n<li>\n<p>This depends on the API, but usually the token is included inside of a special HTTP header field - the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization\" target=\"_blank\" rel=\"nofollow noopener\">'Authorization' header</a>.</p>\n<ul>\n<li><code>Authorization: &#x3C;type> &#x3C;credentials></code></li>\n</ul>\n</li>\n<li>Sometimes an API will allow you to include the token as a querystring instead of a header, but this is not advisable due to security</li>\n</ul>\n</li>\n<li>\n<p><strong>EXAMPLES</strong></p>\n<ul>\n<li>For GitHub, you can include the token either as a header or a GET query param. And for GH, the name of the auth type is \"token\" for the HTTP header</li>\n</ul>\n</li>\n<li>\n<p><strong>CODE</strong></p>\n<ul>\n<li>\n<p>The generic auth header looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Authorization: &lt;type&gt; &lt;credentials&gt;</code></pre></div>\n</li>\n<li>\n<p>Here is a GitHub request, using cURL:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl -H &quot;Authorization: token OAUTH-TOKEN&quot; https://api.github.com</code></pre></div>\n<hr>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"some-other-grant-types\" style=\"position:relative;\"><a href=\"#some-other-grant-types\" aria-label=\"some other grant types permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Some Other Grant Types</h2>\n<table>\n<thead>\n<tr>\n<th>Grant Type</th>\n<th>Diff compared to <code>authorization code</code></th>\n<th>Why use it</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>implicit</code></td>\n<td>Instead of asking for a <code>code</code> and then exchanging for a <code>token</code>, the API returns a <code>token</code> immediately. Basically step 3 is skipped.</td>\n<td>Useful for apps with no backend (e.g. a SPA served via static files), since no <code>client_secret</code> is ever exchanged (which would be impossible to keep safe on a front-end only app). The downside is that the <code>access_token</code> is completely exposed to client side code.</td>\n</tr>\n<tr>\n<td><code>password</code></td>\n<td>The user's unencrypted username and password are sent in a POST request, which returns the <code>access_token</code>. Essentially steps 1-3 are skipped.</td>\n<td><strong>INCREDIBLY</strong> insecure, for multiple reasons, including you would have to store username &#x26; pass in plaintext in order to re-authenticate when necessary. Not many good reasons to use this, except <a href=\"https://www.scottbrady91.com/OAuth/Why-the-Resource-Owner-Password-Credentials-Grant-Type-is-not-Authentication-nor-Suitable-for-Modern-Applications\" target=\"_blank\" rel=\"nofollow noopener\">maybe converting legacy apps</a>.</td>\n</tr>\n<tr>\n<td><code>client</code></td>\n<td>Similar to  <code>password</code> grant, except instead of user's username &#x26; pass, you send <strong>your app's</strong> <code>client_id</code> and <code>client_secret</code> (analogous to user &#x26; pass) in POST and get back token.</td>\n<td>This is useful when an API, or a subset of the API, is not scoped to individual users, but rather to clients. For example, an API might restrict <code>WRITE</code> endpoints to using the <code>authorization code</code> grant type, but an endpoint that returns the operational status of the entire platform might be restricted with <code>client</code>, since everyone sees the same data.</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"the-authorization-grant-approval-screen\" style=\"position:relative;\"><a href=\"#the-authorization-grant-approval-screen\" aria-label=\"the authorization grant approval screen permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>The Authorization Grant Approval Screen</h3>\n<ul>\n<li>\n<p><strong>WHAT</strong></p>\n<ul>\n<li>This part of the flow is beyond your control as the dev, but I'm including it since it is a crucial part of the process. This is the screen that the user sees, if they are logged into the third party service and asked to authorize your app.</li>\n</ul>\n</li>\n<li>\n<p><strong>EXAMPLES</strong></p>\n<ul>\n<li><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 535px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9d0c7be64e97ad96b169868dd55f5322/b5245/github-oauth-prompt.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmUlEQVQoz51RS0/bQBD2T+bSM71w6YEjPfTee5F6aUAiqYITSkECgkOza6/XcbLB3rXJw+tHYvM5QaJSQYn6ebzaee3MfGMUee5xzpj7p9/v9e5dlxFKGWNB8OjYDueeZVmex617iwyIy1gURVVVlWWJ00hTTQltnjV/dbum2Wk1zy5/X7Wardubm2/Hxycnp+122zTNxo9Gt3MBCCH+Tk7j+AkfSkkZSiknk4lSyvf9oQcMYeMuhzoaj/wh4BNCoSHYyPMsCALHceBGrBATXk/BptMpnl+uURTF5pJnWa2s1dVqZeBH8flsniTJYrFItK7PJIG72gbjPUe5A4xUJ0KMKbUxIXdd27bBcJbl1Q4wMMB8PlNSyTDEGkBPpBSMW8u+tI2xQa+SkpABmLOpQwnRWsO+CfoXcL0kg7k4ekp1GqkoDCQEjdTbi+N1C2/M/5oM77JEVFaUOWRZLnehrU5+1KPv3tfDuw+f+x+P+vtfHg4+3e5Z8XXdW7naQtginw2iXsc/vRz/hFyJ9rnfCBOx6eg/97wLngF2WxmNfd8C9wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github OAuth prompt\"\n        title=\"Github OAuth prompt\"\n        src=\"/static/9d0c7be64e97ad96b169868dd55f5322/b5245/github-oauth-prompt.png\"\n        srcset=\"/static/9d0c7be64e97ad96b169868dd55f5322/772e8/github-oauth-prompt.png 200w,\n/static/9d0c7be64e97ad96b169868dd55f5322/e17e5/github-oauth-prompt.png 400w,\n/static/9d0c7be64e97ad96b169868dd55f5322/b5245/github-oauth-prompt.png 535w\"\n        sizes=\"(max-width: 535px) 100vw, 535px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"some-security-considerations\" style=\"position:relative;\"><a href=\"#some-security-considerations\" aria-label=\"some security considerations permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Some security considerations</h3>\n<h4 id=\"why-cant-the-access-token-be-returned-directly-when-user-approves-access\" style=\"position:relative;\"><a href=\"#why-cant-the-access-token-be-returned-directly-when-user-approves-access\" aria-label=\"why cant the access token be returned directly when user approves access permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Why can't the <em>Access Token</em> be returned directly when user approves access?</h4>\n<p>First, it can be - that is actually how the <em><code>implicit</code></em> grant type works, without using <code>client_secret</code>.</p>\n<p>However, back to the question of why this is not used with the <code>authorization code</code> grant type, which is the more common protocol. I'm going to oversimply here, but the basic reason seems to be due to the high-visibility of URLs in GET requests and how they are logged. For example, any Javascript running on a webpage can read and store the current URL of the page, including the query string. If the OAuth protocol allowed for access tokens to be returned to the redirect_uri via a query param, such as <code>callback.php?accesstoken=123ABC</code>, then a third party malicious script might grab it, and later use it to get access to our user's accounts.</p>\n<p>The current flow, receiving the auth code in GET and then exchanging it for a token via GET/POST as a secondary request is much better, for several reasons.</p>\n<ul>\n<li>\n<p>The exchange to receive the token is secured in two ways</p>\n<ul>\n<li>It should originate server-side, so client-side scripts, such as Google Analytics or malicious third-party JS scripts, will not see the request and log it.</li>\n<li>Some API's allow for this to be a POST request, which is a small further guard against MITM attacks, since the important params like <code>client_secret</code> should be in the body of the request, not the URL, and therefore encrypted with SSL.</li>\n</ul>\n</li>\n<li>Although the auth <code>code</code> is visible as a query param, typically it expires within minutes of being granted. Even if a third party grabbed it within that short time span, they would need to know your client-secret in order to exchange it for a long-lived access token.</li>\n</ul>",
              "fields": {
                "title": "Oauth",
                "slug": "/cheatsheets/security/oauth/",
                "modifiedStampMs": 1579820865000,
                "createdStampMs": 1569413770000
              },
              "parent": {
                "absolutePath": "/opt/build/repo/md/cheatsheets/security/oauth.md",
                "relativePath": "cheatsheets/security/oauth.md",
                "base": "oauth.md",
                "name": "oauth"
              }
            },
            {
              "id": "7cabc127-a7b0-5f80-91ce-621cc0a8ddc4",
              "fileAbsolutePath": "/opt/build/repo/md/cheatsheets/security/self-signed-ssl-certs.md",
              "html": "<blockquote>\n<p>🚨 This page covers approaches for <em>self-signed</em> certs; these are useful for local dev work, testing, and special use-cases. For actual production websites, you should not be using self-signed certificates - if you want a free alternative to paid SSL certs, I cannot recommend <a href=\"https://letsencrypt.org/\" target=\"_blank\" rel=\"nofollow noopener\">Let's Encrypt</a> enough!</p>\n</blockquote>\n<!-- omit in toc -->\n<h2 id=\"table-of-contents\" style=\"position:relative;\"><a href=\"#table-of-contents\" aria-label=\"table of contents permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Table of Contents</h2>\n<ul>\n<li><a href=\"#self-signed-ssl-certificates-basic-requirements\">Self-Signed SSL Certificates: Basic Requirements</a></li>\n<li>\n<p><a href=\"#using-openssl-to-generate-self-signed-certs\">Using OpenSSL to Generate Self-Signed Certs</a></p>\n<ul>\n<li><a href=\"#openssl---temporary-csr---prompt-based\">OpenSSL - Temporary CSR - Prompt Based</a></li>\n<li>\n<p><a href=\"#openssl---generating-self-signed-cert-without-prompts\">OpenSSL - Generating Self-Signed Cert Without Prompts</a></p>\n<ul>\n<li><a href=\"#openssl---self-signed-cert-without-prompt---using-arguments\">OpenSSL - Self-Signed Cert Without Prompt - Using Arguments</a></li>\n<li><a href=\"#openssl---self-signed-cert-without-prompt---using-config-file\">OpenSSL - Self-Signed Cert Without Prompt - Using Config File</a></li>\n</ul>\n</li>\n<li><a href=\"#openssl---saving-a-generated-csr\">OpenSSL - Saving a Generated CSR</a></li>\n<li><a href=\"#openssl---using-an-existing-saved-csr-file-to-generate-a-new-certificate\">OpenSSL - Using an Existing Saved CSR File to Generate a New Certificate</a></li>\n<li><a href=\"#openssl---verifying-and-viewing-ssl-info\">OpenSSL - Verifying and Viewing SSL Info</a></li>\n</ul>\n</li>\n<li><a href=\"#generating-certificates-scripts-and-generator-tools\">Generating Certificates: Scripts and Generator Tools</a></li>\n<li><a href=\"#local-hosting---trusting-a-self-signed-cert\">Local Hosting - Trusting a Self-Signed Cert</a></li>\n<li><a href=\"#other-resources\">Other Resources</a></li>\n</ul>\n<h2 id=\"self-signed-ssl-certificates-basic-requirements\" style=\"position:relative;\"><a href=\"#self-signed-ssl-certificates-basic-requirements\" aria-label=\"self signed ssl certificates basic requirements permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Self-Signed SSL Certificates: Basic Requirements</h2>\n<p>The basic requirements for local SSL hosting, and setting up self-signed SSL in general, are:</p>\n<ul>\n<li>A private key (<code>.pem</code>)</li>\n<li>A CSR (<em>Certificate Signing Request</em>)</li>\n<li>A public certificate (usually <code>.crt</code>, sometimes <code>.pem</code> too)</li>\n</ul>\n<blockquote>\n<p>The CSR is kind of intermediate step between the key and the cert (the CSR is signed by the key to become the cert, so in many cases it is temporarily created via a prompt). You can think of the cert as being <em>derived</em> from the key, via the CSR.</p>\n</blockquote>\n<blockquote>\n<p>💡 SSL cert pairs are often referred to with the <code>X.509</code> identifier; this is essentially <a href=\"https://en.wikipedia.org/wiki/X.509\" target=\"_blank\" rel=\"nofollow noopener\">the standard</a> that is used for TLS/SSL, but it is used for other purposes as well.</p>\n</blockquote>\n<p>However, how you generate these is a little more complicated than how you might normally generate key-pairs with OpenSSL, since it is best practice to provide more configuration inputs to create the certificate, such as DNS entries that can use the certificate. There are also different approaches, based on how you want to use the cert you are generating.</p>\n<blockquote>\n<p>💡 If you are on Windows, there is a handy built-in Powershell Cmdlet that simplifies generating a local dev certificate a lot! - <a href=\"https://docs.microsoft.com/en-us/powershell/module/pkiclient/New-SelfSignedCertificate\" target=\"_blank\" rel=\"nofollow noopener\">the <code>New-SelfSignedCertificate</code> command</a>.</p>\n</blockquote>\n<blockquote>\n<p>💡 Also, don't forget that if you want to use a custom local domain (like using <code>mydomain.test</code> instead of <code>localhost</code>) you need to edit your local HOSTS file to add an entry resolving localhost (or <code>127.0.0.1</code>) to that custom local domain.</p>\n</blockquote>\n<h2 id=\"using-openssl-to-generate-self-signed-certs\" style=\"position:relative;\"><a href=\"#using-openssl-to-generate-self-signed-certs\" aria-label=\"using openssl to generate self signed certs permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Using OpenSSL to Generate Self-Signed Certs</h2>\n<p>Before you get started with any of the above approaches, you are going to need the actual OpenSSL binary. There are pretty good chances you might already have it installed (especially if you do a fair amount of dev work) - try running <code>where openssl</code> (Windows), or <code>which openssl</code> (Unix).</p>\n<p>If you need a new copy, you can either <a href=\"https://www.openssl.org/source/\" target=\"_blank\" rel=\"nofollow noopener\">build from source</a>, or <a href=\"https://wiki.openssl.org/index.php/Binaries\" target=\"_blank\" rel=\"nofollow noopener\">grab a pre-built binary</a>.</p>\n<p>You can check the version of local binary with <code>openssl version</code>.</p>\n<p>Now, on to how to actually use OpenSSL to generate your own cert! 👇</p>\n<h3 id=\"openssl---temporary-csr---prompt-based\" style=\"position:relative;\"><a href=\"#openssl---temporary-csr---prompt-based\" aria-label=\"openssl   temporary csr   prompt based permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>OpenSSL - Temporary CSR - Prompt Based</h3>\n<p>With this method, you don't need to create a CSR as a separate step; instead OpenSSL will prompt you (via the CLI) for the minimum information it needs to temporarily create a CSR, then use that temporary CSR with your private key to generate cert.</p>\n<p>This method is commonly recommended, because it involves the least steps.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">openssl req -newkey rsa:4096 -nodes -keyout domain.key -x509 -sha256 -days <span class=\"token number\">365</span> -out domain.crt</code></pre></div>\n<p>Explanation of command parts:</p>\n<ul>\n<li>\n<p><code>req</code>: This is the main command we are passing to OpenSSL - it asks OpenSSL to generate a CSR for us. (<a href=\"https://www.openssl.org/docs/man1.1.1/man1/openssl-req.html\" target=\"_blank\" rel=\"nofollow noopener\">Docs</a>).</p>\n<ul>\n<li>The rest of the arguments we provide can be found on <a href=\"https://www.openssl.org/docs/man1.1.1/man1/openssl-req.html\" target=\"_blank\" rel=\"nofollow noopener\">the doc for this command</a></li>\n</ul>\n</li>\n<li>\n<p><code>-newkey</code>: Says that we want <em>both</em> a new CSR <strong>and</strong> a new <em>private key</em></p>\n<ul>\n<li><code>rsa:4096</code>: algorithm and number of bits to use when creating the private key. Many versions of OpenSSL now use <code>2048</code> as the default bit size</li>\n<li><code>-nodes</code>: Tells OpenSSL <strong><em>not</em></strong> to encrypt the private key with a password / passphrase. Normally, this is a bad idea, but since this is a throwaway local self-signed cert for development purposes, adding a password adds unnecessary steps to our setup.</li>\n<li><code>-keyout domain.key</code>: Save the generated private key to <code>domain.key</code> file. We can use any filname we want</li>\n</ul>\n</li>\n<li>\n<p><code>-x509</code>: Important: This tells OpenSSL that the output of our command should be a Self-Signed Certificate, <strong><em>not</em></strong> the CSR used to generate it.</p>\n<ul>\n<li><code>-sha256</code>: Explicitly specifies the algorithm, for the message digest, used to sign the CSR and generate the final certificate. The default is now <code>sha256</code>, but it is worth explicitly declaring, since older versions default to insecure <code>MD5</code>.</li>\n<li>\n<p><code>-days 365</code>: How long the cert should be valid for, before it expires.</p>\n<ul>\n<li>If you are going to add a <em>permanent</em> exception to your browser to trust the local cert, you should probably put this to a <em>shorter</em> value to avoid adding too much extra risk</li>\n</ul>\n</li>\n<li><code>out domain.crt</code>: Tells OpenSSL where to save our generated cert file. You can use any filename.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"openssl---generating-self-signed-cert-without-prompts\" style=\"position:relative;\"><a href=\"#openssl---generating-self-signed-cert-without-prompts\" aria-label=\"openssl   generating self signed cert without prompts permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>OpenSSL - Generating Self-Signed Cert Without Prompts</h3>\n<p>This is very similar to the above approach, but instead of filling out the CLI Q&#x26;A prompt that OpenSSL gives us, we can pass in pre-configured values to use with the CSR. This is useful if we want to be able to share a configuration that other devs can use to generate their own local certs, create a base template config, etc.</p>\n<p>You can pass configuration values either entirely through the CLI, as arguments, or by giving OpenSSL the filename of a plain-text file where you have saved the values (in a specific config file format).</p>\n<h4 id=\"openssl---self-signed-cert-without-prompt---using-arguments\" style=\"position:relative;\"><a href=\"#openssl---self-signed-cert-without-prompt---using-arguments\" aria-label=\"openssl   self signed cert without prompt   using arguments permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>OpenSSL - Self-Signed Cert Without Prompt - Using Arguments</h4>\n<blockquote>\n<p>📄 <a href=\"https://www.openssl.org/docs/man1.1.1/man1/x509.html\" target=\"_blank\" rel=\"nofollow noopener\">Here is a doc page</a> specifically for <code>x509</code> (cert) arguments</p>\n</blockquote>\n<p>Argument Based:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Broken out</span>\nopenssl req <span class=\"token punctuation\">\\</span>\n\t-newkey rsa:4096 -nodes <span class=\"token punctuation\">\\</span>\n\t\t-keyout domain.key <span class=\"token punctuation\">\\</span>\n\t-x509 <span class=\"token punctuation\">\\</span>\n\t\t-sha256 -days <span class=\"token number\">365</span> <span class=\"token punctuation\">\\</span>\n\t\t<span class=\"token comment\"># Here is where we start adding the config stuff,</span>\n\t\t<span class=\"token comment\"># ,which would normally be passed via prompt</span>\n\t\t<span class=\"token comment\"># --- Distinguished Name Section ---</span>\n\t\t-subj <span class=\"token string\">\"/C=US/ST=WA/L=SEATTLE/O=MyCompany/OU=MyDivision/CN=*.domain.test\"</span> <span class=\"token punctuation\">\\</span>\n\t\t<span class=\"token comment\"># --- SAN (subject alternative names) Section ---</span>\n\t\t<span class=\"token comment\"># Notice that multiple values are comma separated; do not try to add</span>\n\t\t<span class=\"token comment\">#     multiple extension entries for the same extension</span>\n\t\t<span class=\"token comment\"># This syntax requires >= v1.1.1</span>\n\t\t-addext <span class=\"token string\">\"subjectAltName = DNS:*.domain.test, DNS:localhost, DNS:127.0.0.1, DNS:mail.domain.test\"</span> <span class=\"token punctuation\">\\</span>\n\t\t<span class=\"token comment\"># ^ If you are on v &lt;= v1.1.0, this is notoriously difficult to pass via</span>\n\t\t<span class=\"token comment\">#    CLI, as it appears extension values must be passed via conf file.</span>\n\t\t<span class=\"token comment\">#    - See: https://security.stackexchange.com/a/91556/248319</span>\n\t\t<span class=\"token comment\"># Same as before</span>\n\t\t-out domain.crt <span class=\"token punctuation\">\\</span>\n\n<span class=\"token comment\"># Same as above, but all together:</span>\nopenssl req -newkey rsa:4096 -nodes -keyout domain.key -x509 -sha256 -days <span class=\"token number\">365</span> -subj <span class=\"token string\">\"/C=US/ST=WA/L=SEATTLE/O=MyCompany/OU=MyDivision/CN=*.domain.test\"</span> -addext <span class=\"token string\">\"subjectAltName = DNS:*.domain.test, DNS:localhost, DNS:127.0.0.1, DNS:mail.domain.test\"</span> -out domain.crt</code></pre></div>\n<blockquote>\n<p>If the above command failed for you (perhaps with <code>req: Unknown digest addext</code>), check your version of OpenSSL (with <code>openssl version</code>). If it is below <code>v1.1.1</code>, you either need to use a config file to pass in extension values (see below), or use <a href=\"https://security.stackexchange.com/a/91556/248319\" target=\"_blank\" rel=\"nofollow noopener\">some tricky bash sub-shell stuff</a>.</p>\n</blockquote>\n<h4 id=\"openssl---self-signed-cert-without-prompt---using-config-file\" style=\"position:relative;\"><a href=\"#openssl---self-signed-cert-without-prompt---using-config-file\" aria-label=\"openssl   self signed cert without prompt   using config file permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>OpenSSL - Self-Signed Cert Without Prompt - Using Config File</h4>\n<p>These files are usually called <code>__.conf</code> (e.g. <code>mydomain.conf</code>), and they follow a <a href=\"https://www.openssl.org/docs/man1.1.1/man5/config.html\" target=\"_blank\" rel=\"nofollow noopener\">specific INI-like format</a>. The syntax can be a little confusing (<a href=\"https://www.phildev.net/ssl/opensslconf.html\" target=\"_blank\" rel=\"nofollow noopener\">here is an unofficial doc page that is helpful</a>).</p>\n<blockquote>\n<p>One really important thing to note about the config file syntax is that often values are passed by section lookup, rather than directly. So, for example, if we wanted to pass custom alternative names (DNS entries), we would pass a pointer to the section of the config where we have entered those values.<br/><br/>In this scenario, we can use any header name we want, but assuming we went with <code>alternate_names</code>, we would need a key-pair under our extensions with <code>subjectAltName = @alternate_names</code>, and then a section with the header <code>[alternate_names ]</code>, under which our DNS entries are stored (e.g. <code>DNS.1 = localhost</code>).</p>\n</blockquote>\n<blockquote>\n<p>📄 For config keys that go with <code>req</code>, see <a href=\"https://www.openssl.org/docs/man1.1.1/man1/openssl-req.html#CONFIGURATION-FILE-FORMAT\" target=\"_blank\" rel=\"nofollow noopener\">the bottom of the <code>req</code> man page</a></p>\n</blockquote>\n<blockquote>\n<p>📄 <a href=\"https://www.openssl.org/docs/man1.1.1/man5/x509v3_config.html\" target=\"_blank\" rel=\"nofollow noopener\">Here is a doc page</a> specifically for <code>x509</code> (cert) config sections</p>\n</blockquote>\n<p>To actually load the config values, use the <code>-config</code> argument, and pass your filename. For example, here is the typical command to generate a private key and self-signed cert, with input from a config.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">openssl req -config myconfig.conf -newkey rsa -x509 -days <span class=\"token number\">365</span> -out domain.crt</code></pre></div>\n<p>Example Config File, with comments:</p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token comment\"># Key:</span>\n<span class=\"token comment\">#  - &lt;SK> = Key to a config subsection</span>\n\n<span class=\"token comment\"># Main entry point</span>\n<span class=\"token comment\"># since our command on the CLI is `req`, OpenSSL is going to look for a matching entry-point</span>\n<span class=\"token comment\"># This lets you store multiple command configs together, in a single file</span>\n<span class=\"token selector\">[req]</span>\n<span class=\"token comment\"># algorithm and number of bits to use when creating the private key</span>\n<span class=\"token comment\"># rsa:2048</span>\n<span class=\"token constant\">default_bits</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> 2048</span>\n<span class=\"token comment\"># Same as `-nodes` argument, to prevent encryption of private key (passphrase)</span>\n<span class=\"token constant\">encrypt_key</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> no</span>\n<span class=\"token comment\"># Explicitly tells OpenSSL which message digest algorithm to use</span>\n<span class=\"token comment\"># Good practice to specify, since older versions might default to MD5 (insecure)</span>\n<span class=\"token constant\">default_md</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> sha256</span>\n<span class=\"token comment\"># If you don't use `-keyout` in the CLI, this determines the private key filename</span>\n<span class=\"token constant\">default_keyfile</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> domain.key</span>\n<span class=\"token comment\"># &lt;SK> These are values that are used to *distinguish* the certificate, such as the country and organization</span>\n<span class=\"token comment\"># These values are normally collected via Q&amp;A prompt in the CLI if config file is not used</span>\n<span class=\"token constant\">distinguished_name</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> req_distinguished_name</span>\n<span class=\"token comment\"># Ensures that distinguished_name values will be pulled from this file, as</span>\n<span class=\"token comment\">#     opposed to prompting the user in the CLI</span>\n<span class=\"token constant\">prompt</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> no</span>\n<span class=\"token comment\"># &lt;SK> Used for extensions to the self-signed cert OpenSSL is going to generate for us</span>\n<span class=\"token constant\">x509_extensions</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> x509_extensions</span>\n\n<span class=\"token selector\">[req_distinguished_name]</span>\n<span class=\"token comment\"># - These are all values that are used to *distinguish* the certificate, such as </span>\n<span class=\"token comment\">#     the country and organization</span>\n<span class=\"token comment\"># - Many of these have shorter keys that should be used for non-prompt values,</span>\n<span class=\"token comment\">#     and long keys that should have a prompt string to display to the user, and</span>\n<span class=\"token comment\">#     optionally a default value if the prompt is skipped (see below note)</span>\n<span class=\"token comment\"># - For long keys, if you use fieldName with `_default` at the end, the value</span>\n<span class=\"token comment\">#     will be used if prompt!==true, or if the user skips the prompt in the CLI</span>\n\n<span class=\"token comment\"># Long = countryName</span>\n<span class=\"token constant\">C</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> US</span>\n<span class=\"token comment\"># Long = stateOrProvinceName</span>\n<span class=\"token constant\">ST</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> WA</span>\n<span class=\"token comment\"># Long = localityName</span>\n<span class=\"token constant\">L</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> Seattle</span>\n<span class=\"token comment\"># Long = organizationName</span>\n<span class=\"token constant\">O</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> MyCompany</span>\n<span class=\"token comment\"># Long = organizationalUnitName</span>\n<span class=\"token constant\">OU</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> MyDivision</span>\n<span class=\"token comment\"># Long = commonName</span>\n<span class=\"token comment\"># Pay extra attention to common name - You can only define one, and it is the</span>\n<span class=\"token comment\">#     value that is displayed to the user. Should NOT include protocol, but can</span>\n<span class=\"token comment\">#     be in format of domain.tld, www.domain.tld, or even wildcard, to share a</span>\n<span class=\"token comment\">#     common cert across multiple subdomains - `*.domain.tld`.</span>\n<span class=\"token comment\"># Also, any value that you use here !*** MUST ***! be ALSO included in the SAN</span>\n<span class=\"token comment\">#     (subject alternative name) section (subjectAltName), if you choose to</span>\n<span class=\"token comment\">#     include that section. See: https://stackoverflow.com/a/25971071/11447682</span>\n<span class=\"token constant\">CN</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> *.domain.test</span>\n\n<span class=\"token selector\">[x509_extensions]</span>\n<span class=\"token comment\"># &lt;SK> Used for (generically) custom field-value pairs that should be associated</span>\n<span class=\"token comment\">#   with the cert, such as extra DNS names, IP addresses, and emails</span>\n<span class=\"token constant\">subjectAltName</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> @alternate_names</span>\n\n<span class=\"token selector\">[alternate_names]</span>\n<span class=\"token comment\"># Extra domain names to associate with our cert</span>\n<span class=\"token comment\">#  - These can be a mix of wildcard, IP address, subdomain, etc.</span>\n<span class=\"token constant\">DNS.1</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> *.domain.test</span>\n<span class=\"token constant\">DNS.2</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> localhost</span>\n<span class=\"token constant\">DNS.3</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> 127.0.0.1</span>\n<span class=\"token constant\">DNS.4</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> mail.domain.test</span>\n<span class=\"token comment\"># Etc.</span>\n<span class=\"token comment\"># See:</span>\n<span class=\"token comment\"># - https://www.openssl.org/docs/man1.1.1/man5/x509v3_config.html#Subject-Alternative-Name</span>\n<span class=\"token comment\"># - https://en.wikipedia.org/wiki/Subject_Alternative_Name</span></code></pre></div>\n<details>\n\t<summary>Above Example Config, Without Comments</summary>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token selector\">[req]</span>\n<span class=\"token constant\">default_bits</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> 2048</span>\n<span class=\"token constant\">encrypt_key</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> no</span>\n<span class=\"token constant\">default_md</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> sha256</span>\n<span class=\"token constant\">default_keyfile</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> domain.key</span>\n<span class=\"token constant\">distinguished_name</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> req_distinguished_name</span>\n<span class=\"token constant\">prompt</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> no</span>\n<span class=\"token constant\">x509_extensions</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> x509_extensions</span>\n\n<span class=\"token selector\">[req_distinguished_name]</span>\n<span class=\"token constant\">C</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> US</span>\n<span class=\"token constant\">ST</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> WA</span>\n<span class=\"token constant\">L</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> Seattle</span>\n<span class=\"token constant\">O</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> MyCompany</span>\n<span class=\"token constant\">OU</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> MyDivision</span>\n<span class=\"token constant\">CN</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> *.domain.test</span>\n\n<span class=\"token selector\">[x509_extensions]</span>\n<span class=\"token constant\">subjectAltName</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> @alternate_names</span>\n\n<span class=\"token selector\">[alternate_names]</span>\n<span class=\"token constant\">DNS.1</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> *.domain.test</span>\n<span class=\"token constant\">DNS.2</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> localhost</span>\n<span class=\"token constant\">DNS.3</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> 127.0.0.1</span>\n<span class=\"token constant\">DNS.4</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> mail.domain.test</span></code></pre></div>\n</details>\n<h3 id=\"openssl---saving-a-generated-csr\" style=\"position:relative;\"><a href=\"#openssl---saving-a-generated-csr\" aria-label=\"openssl   saving a generated csr permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>OpenSSL - Saving a Generated CSR</h3>\n<p>If you want to save the generated CSR, instead of having OpenSSL just temporarily use and throw away the one it uses to create a cert, you just need to change a few arguments.</p>\n<ul>\n<li>Remove <code>-x509</code> (this targets Cert as output, not CSR, so don't want it)</li>\n<li>Change <code>-out domain.crt</code> to <code>-out domain.csr</code> (or whatever filename you prefer)</li>\n</ul>\n<p>You can export the CSR while:</p>\n<ul>\n<li>\n<p>also generating a new private key</p>\n<ul>\n<li>keep <code>-newkey</code> and <code>-keyout</code></li>\n</ul>\n</li>\n<li>\n<p>or with an existing private key</p>\n<ul>\n<li>Remove <code>-newkey</code> and <code>-keyout</code>, add <code>-key mykeyfile.key</code></li>\n</ul>\n</li>\n</ul>\n<p>Since the Cert is created by signing CSR values with your key, you can also reverse the process, and actually generate a CSR from an existing public certificate, assuming you have the private key:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">openssl x509 -in domain.crt -signkey domain.key -x509toreq -out domain.csr</code></pre></div>\n<h3 id=\"openssl---using-an-existing-saved-csr-file-to-generate-a-new-certificate\" style=\"position:relative;\"><a href=\"#openssl---using-an-existing-saved-csr-file-to-generate-a-new-certificate\" aria-label=\"openssl   using an existing saved csr file to generate a new certificate permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>OpenSSL - Using an Existing Saved CSR File to Generate a New Certificate</h3>\n<p>If you already have a saved CSR and private key, you skip providing all the information needed to generate the CSR:</p>\n<ul>\n<li>\n<p>Remove <code>-newkey</code> and <code>-keyout</code>, remove `-out </p>\n<h3 id=\"openssl---verifying-and-viewing-ssl-info\" style=\"position:relative;\"><a href=\"#openssl---verifying-and-viewing-ssl-info\" aria-label=\"openssl   verifying and viewing ssl info permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>OpenSSL - Verifying and Viewing SSL Info</h3>\n</li>\n<li>\n<p>CSR</p>\n<ul>\n<li><code>openssl req -text -noout -verify -in domain.csr</code></li>\n</ul>\n</li>\n<li>\n<p>Certificate</p>\n<ul>\n<li><code>openssl x509 -text -noout -in domain.crt</code></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"generating-certificates-scripts-and-generator-tools\" style=\"position:relative;\"><a href=\"#generating-certificates-scripts-and-generator-tools\" aria-label=\"generating certificates scripts and generator tools permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Generating Certificates: Scripts and Generator Tools</h2>\n<blockquote>\n<p>🚨 Be very careful about tools (and try to avoid them) that work by installing a global / root level CA / certificate; this opens a large security hole in your dev environment. See <a href=\"https://dev.to/pimterry/global-developer-cas-considered-harmful-3a9i\" target=\"_blank\" rel=\"nofollow noopener\">this post</a> for an explanation.</p>\n</blockquote>\n<blockquote>\n<p>📄 If you find it easier to read code, rather than bash commands, you might find it helpful to look at <a href=\"https://github.com/httptoolkit/mockttp/blob/master/src/util/tls.ts\" target=\"_blank\" rel=\"nofollow noopener\">how mockttp handles TLS</a>.</p>\n</blockquote>\n<p>These are tools that can make creating local certs a little less painful than a bunch of hard to remember commands. Most of these are just wrappers around OpenSSL.</p>\n<ul>\n<li><a href=\"https://github.com/digitalbazaar/forge#x509\" target=\"_blank\" rel=\"nofollow noopener\">node-forge</a></li>\n<li><a href=\"https://www.npmjs.com/package/selfsigned\" target=\"_blank\" rel=\"nofollow noopener\">selfsigned</a></li>\n<li><a href=\"https://github.com/FiloSottile/mkcert\" target=\"_blank\" rel=\"nofollow noopener\">mkcert</a> (🚨 = Uses root CA)</li>\n<li>\n<p>Windows Built-in Tools:</p>\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/powershell/module/pkiclient/New-SelfSignedCertificate\" target=\"_blank\" rel=\"nofollow noopener\">New-SelfSignedCertificate</a> (Powershell Cmdlet)</li>\n<li><a href=\"https://docs.microsoft.com/en-us/windows/win32/seccrypto/makecert\" target=\"_blank\" rel=\"nofollow noopener\">MakeCert.exe</a> (Deprecated)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"local-hosting---trusting-a-self-signed-cert\" style=\"position:relative;\"><a href=\"#local-hosting---trusting-a-self-signed-cert\" aria-label=\"local hosting   trusting a self signed cert permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Local Hosting - Trusting a Self-Signed Cert</h2>\n<p>Once you have your certificate generated, that's not actually the end of the work necessary to use SSL locally. Because browsers (generally) don't trust self-signed certificates, you need to an <em>exception</em> to allow your <em>specific</em> certificate to be <strong>trusted</strong>.</p>\n<p>As a best practice, trusting a local self-signed certificate should be done <em>temporary</em>, and on a per-site basis (not with a root / global / shared CA).</p>\n<p>Temporary certificate trusting:</p>\n<ol>\n<li>\n<p>Get the fingerprint of the cert</p>\n<ul>\n<li>\n<p><code>openssl x509 -pubkey -noout -in {CERT_PATH} | openssl pkey -pubin -outform der | openssl dgst -sha256 -binary | openssl enc -base64</code> (<a href=\"https://stackoverflow.com/a/51557338/11447682\" target=\"_blank\" rel=\"nofollow noopener\">credit</a>)</p>\n<ul>\n<li>Or</li>\n</ul>\n</li>\n<li><code>openssl x509 -pubkey &#x3C; {CERT_PATH} | openssl pkey -pubin -outform der | openssl dgst -sha256 -binary | base64</code> (<a href=\"https://security.stackexchange.com/a/188059/248319\" target=\"_blank\" rel=\"nofollow noopener\">Credit</a>)</li>\n</ul>\n</li>\n<li>\n<p>Launch Chrome, temporarily, with the fingerprint of the cert to trust:</p>\n<ul>\n<li>\n<p><code>chrome --ignore-certificate-errors-spki-list={FINGERPRINT}</code></p>\n<ul>\n<li>OR</li>\n</ul>\n</li>\n<li><code>chrome --ignore-certificate-errors-spki-list=$(cat fingerprints.txt)</code></li>\n<li>Also, you can pass your domain as the last argument to have it automatically open to that page</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p>💡 For Chrome, you probably also want / need to have it force opened in a new instance, rather than your normal browser. You can do this with either <code>chrome --user-data-dir=\\tmp</code>, or, on Windows, <code>chrome --user-data-dir=%TEMP%</code></p>\n</blockquote>\n<h2 id=\"other-resources\" style=\"position:relative;\"><a href=\"#other-resources\" aria-label=\"other resources permalink\" class=\"anchor before\"><?xml version=\"1.0\" ?><svg id=\"Outlined\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><title/><g id=\"Fill\"><path fill=\"currentColor\" d=\"M29.35,6.88,25.11,2.63a3,3,0,0,0-4.23,0L14.64,8.81a3,3,0,0,0,0,4.25l1.44,1.45-1.54,1.54-1.42-1.42a3,3,0,0,0-4.24,0L2.65,20.8a3,3,0,0,0,0,4.26L6.88,29.3A3,3,0,0,0,9,30.17a3,3,0,0,0,2.11-.86l6.23-6.19A3,3,0,0,0,18.24,21a3,3,0,0,0-.88-2.13L16,17.46l1.54-1.54,1.39,1.38a3,3,0,0,0,4.23,0l6.23-6.18A2.94,2.94,0,0,0,30.23,9,3,3,0,0,0,29.35,6.88ZM15.94,20.29a1,1,0,0,1,.3.71,1,1,0,0,1-.3.7L9.71,27.89a1,1,0,0,1-1.41,0L4.06,23.64a1,1,0,0,1-.3-.71,1,1,0,0,1,.3-.71L10.29,16a1,1,0,0,1,1.41,0l1.42,1.42-2.83,2.83,1.42,1.42,2.83-2.83Zm12-10.58L21.7,15.89a1,1,0,0,1-1.41,0l-1.38-1.38,2.8-2.8-1.42-1.42-2.8,2.8-1.44-1.44a1,1,0,0,1,0-1.42l6.23-6.18A1,1,0,0,1,23,3.76a1,1,0,0,1,.71.29l4.24,4.24a1,1,0,0,1,0,1.42Z\"/></g></svg></a>Other Resources</h2>\n<details>\n\t<summary>Other guides</summary>\n<ul>\n<li>DigitalOcean: <a href=\"https://www.digitalocean.com/community/tutorials/openssl-essentials-working-with-ssl-certificates-private-keys-and-csrs\" target=\"_blank\" rel=\"nofollow noopener\">\"OpenSSL Essentials\"</a></li>\n<li><a href=\"https://dev.to/voyz/generating-pair-of-jks-and-pem-certificates-4enp\" target=\"_blank\" rel=\"nofollow noopener\">https://dev.to/voyz/generating-pair-of-jks-and-pem-certificates-4enp</a></li>\n<li>StackOverflow: <a href=\"https://stackoverflow.com/a/27931596/11447682\" target=\"_blank\" rel=\"nofollow noopener\">\"How to create a self-signed certificate with OpenSSL</a></li>\n<li><a href=\"https://gist.github.com/Soarez/9688998#generate-keys-and-certificate-signing-request-csr\" target=\"_blank\" rel=\"nofollow noopener\">https://gist.github.com/Soarez/9688998#generate-keys-and-certificate-signing-request-csr</a></li>\n<li><a href=\"https://dev.to/suntong/how-to-create-a-self-signed-certificate-1aib\" target=\"_blank\" rel=\"nofollow noopener\">https://dev.to/suntong/how-to-create-a-self-signed-certificate-1aib</a></li>\n<li><a href=\"https://www.shellhacks.com/create-csr-openssl-without-prompt-non-interactive/\" target=\"_blank\" rel=\"nofollow noopener\">https://www.shellhacks.com/create-csr-openssl-without-prompt-non-interactive/</a></li>\n<li>\n<p><a href=\"https://linuxize.com/post/creating-a-self-signed-ssl-certificate/\" target=\"_blank\" rel=\"nofollow noopener\">https://linuxize.com/post/creating-a-self-signed-ssl-certificate/</a></p>\n</details>\n</li>\n</ul>",
              "fields": {
                "title": "Self-Signed SSL Certificates / OpenSSL Cheatsheet and Guide",
                "slug": "/cheatsheets/security/self-signed-ssl-certs/",
                "modifiedStampMs": 1609643226000,
                "createdStampMs": 1609599204000
              },
              "parent": {
                "absolutePath": "/opt/build/repo/md/cheatsheets/security/self-signed-ssl-certs.md",
                "relativePath": "cheatsheets/security/self-signed-ssl-certs.md",
                "base": "self-signed-ssl-certs.md",
                "name": "self-signed-ssl-certs"
              }
            }
          ],
          "paths": []
        }
      }
    }
  },
  "staticQueryHashes": [
    "2563531922",
    "3649515864",
    "3795822034"
  ]
}
