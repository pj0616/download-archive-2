<!DOCTYPE html>
<html>
    <head>
        <title>DevOps : Graph Problems</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DevOps</a></span>
                            </li>
                                                    <li>
                                <span><a href="DevOps-Home_603226548.html">DevOps Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Tutorials_278921431.html">Tutorials</a></span>
                            </li>
                                                    <li>
                                <span><a href="Java-Problems_858619905.html">Java Problems</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DevOps : Graph Problems
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Nicholas Guner</span>, last modified on Jan 07, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h2 id="GraphProblems-"><br/></h2><style type='text/css'>/*<![CDATA[*/
div.rbtoc1613190963209 {padding: 0px;}
div.rbtoc1613190963209 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1613190963209 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1613190963209'>
<ul class='toc-indentation'>
<li><a href='#GraphProblems-'></a></li>
<li><a href='#GraphProblems-SampleGraphs'>Sample Graphs</a></li>
<li><a href='#GraphProblems-GraphAPIwithAdjacencyList'>Graph API with Adjacency List</a></li>
<li><a href='#GraphProblems-DepthFirstSearch'>DepthFirstSearch</a></li>
<li><a href='#GraphProblems-BreadthFirstSearch'>BreadthFirstSearch</a></li>
<li><a href='#GraphProblems-ConnectedComponent'>ConnectedComponent</a></li>
</ul>
<li><a href='#GraphProblems-MinimalSpanningTree'>MinimalSpanningTree</a>
<ul class='toc-indentation'>

<ul class='toc-indentation'>
<li><a href='#GraphProblems-QuickFindandUnionFind'>QuickFind and UnionFind</a></li>
<li><a href='#GraphProblems-Diagrams'>Diagrams</a></li>
</ul>
<li><a href='#GraphProblems-Kruskal&amp;PrimMST'>Kruskal &amp; Prim MST</a></li>
</ul>
</li>
<li><a href='#GraphProblems-ShortestPath'>Shortest Path</a>
<ul class='toc-indentation'>

<ul class='toc-indentation'>
<li><a href='#GraphProblems-Diagrams.1'>Diagrams</a></li>
</ul>
<li><a href='#GraphProblems-DijkstraShortestPath'>DijkstraShortestPath</a></li>
</ul>
</div><h2 id="GraphProblems-SampleGraphs">Sample Graphs</h2><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" width="340" loading="lazy" src="attachments/875823108/1048117635.png?width=340" data-image-src="attachments/875823108/1048117635.png" data-height="290" data-width="460" data-unresolved-comment-count="0" data-linked-resource-id="1048117635" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210103-191128.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="875823108" data-linked-resource-container-version="21" data-media-id="164e520b-ac34-468b-bd9a-606a49b4bace" data-media-type="file"></span><p /><h2 id="GraphProblems-GraphAPIwithAdjacencyList">Graph API with Adjacency List</h2><div class="table-wrap"><table data-layout="full-width" class="confluenceTable"><colgroup><col style="width: 266.0px;"/><col style="width: 578.0px;"/><col style="width: 777.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p>Adjacency List</p></th><th class="confluenceTh"><p>Graph</p></th><th class="confluenceTh"><p>Test</p></th></tr><tr><td class="confluenceTd"><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/875823108/1051164824.png" data-image-src="attachments/875823108/1051164824.png" data-height="389" data-width="223" data-unresolved-comment-count="0" data-linked-resource-id="1051164824" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210103-181633.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="875823108" data-linked-resource-container-version="21" data-media-id="971ccb67-2ea0-470c-ae82-3540e16a9ca4" data-media-type="file"></span><p /></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public class Graph
{
    private int V;
    private List&lt;Integer&gt;[] adjList;

    public Graph(int V)
    {
        this.V = V;
        adjList = (List&lt;Integer&gt;[])new List[V];
        for(int i = 0; i &lt; V; ++i)
        {
            adjList[i] = new ArrayList&lt;&gt;();
        }
    }

    public void addEdge(int v, int w)
    {
        adjList[v].add(w);
        adjList[w].add(v);
    }

    public List&lt;Integer&gt; adjacency(int v)
    {
        return adjList[v];
    }

    public int V()
    {
        return V;
    }
}</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static boolean testsPass()
{
    Graph g = new Graph(13);
    g.addEdge(0, 1);
    g.addEdge(0, 2);
    g.addEdge(0, 6);
    g.addEdge(0, 5);
    g.addEdge(6, 4);
    g.addEdge(4, 5);
    g.addEdge(5, 3);
    g.addEdge(3, 4);
    g.addEdge(7, 8);
    g.addEdge(9, 10);
    g.addEdge(9, 11);
    g.addEdge(9, 12);
    g.addEdge(11, 12);
    for(int v = 0; v &lt; g.V(); ++v)
    {
        for(int w : g.adjacency(v))
        {
            System.out.println(v + &quot;-&quot; + w);
        }
    }
    return true;
}</pre>
</div></div></td></tr></tbody></table></div><p>Notes:</p><ol><li><p>Make sure to use List instead of Set for adjacency list in order to make examples match presentations in the course.</p></li></ol><h2 id="GraphProblems-DepthFirstSearch">DepthFirstSearch</h2><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/875823108/1024622598.png" data-image-src="attachments/875823108/1024622598.png" data-height="454" data-width="999" data-unresolved-comment-count="0" data-linked-resource-id="1024622598" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20201221-175553.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="875823108" data-linked-resource-container-version="21" data-media-id="d807f545-a5e1-4ea6-803f-f6794db357bd" data-media-type="file"></span><p /><div class="table-wrap"><table data-layout="full-width" class="confluenceTable"><colgroup><col style="width: 812.0px;"/><col style="width: 809.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><code>Graph.DepthFirstSearch</code></p></th><th class="confluenceTh"><p /></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static class DepthFirstSearch
{
    private boolean[] marked;
    private int[] edgeTo;
    private int source;

    public DepthFirstSearch(Graph g, int source)
    {
        this.source = source;
        marked = new boolean[g.vertices()];
        edgeTo = new int[g.vertices()];
        dfs(g, source);
    }

    private void dfs(Graph g, int v)
    {
        marked[v] = true;
        for(int i : g.adjacency(v))
        {
            if(!marked[i])
            {
                dfs(g, i);
                edgeTo[i] = v;
            }
        }
    }

    public boolean hasPathTo(int v)
    {
        return marked[v];
    }

    public List&lt;Integer&gt; pathTo(int v)
    {
        if(!hasPathTo(v))
        {
            return null;
        }
        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();
        for(int i = v; i != source; i = edgeTo[i])
        {
            stack.push(i);
        }
        stack.push(source);
        return stack.stream().collect(Collectors.toList());
    }
}</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static boolean testsPass()
{
    Graph g = new Graph(13);
    g.addEdge(0, 1);
    g.addEdge(0, 2);
    g.addEdge(0, 6);
    g.addEdge(6, 4);
    g.addEdge(4, 5);
    g.addEdge(5, 3);
    g.addEdge(7, 8);
    g.addEdge(9, 10);
    g.addEdge(9, 11);
    g.addEdge(9, 12);
    DepthFirstSearch dfs = new DepthFirstSearch(g, 0);
    boolean check = dfs.hasPathTo(6) &amp;&amp; dfs.hasPathTo(5) &amp;&amp;
            dfs.hasPathTo(4) &amp;&amp; dfs.hasPathTo(3) &amp;&amp;
            dfs.hasPathTo(2) &amp;&amp; dfs.hasPathTo(3);
    if(!check)
    {
        return false;
    }
    List&lt;Integer&gt; path = dfs.pathTo(3);
    check = Arrays.equals(new int[] {3, 5, 4, 6, 0}, path.stream().mapToInt(x -&gt; x).toArray());
    if(!check)
    {
        return false;
    }
    return true;
}</pre>
</div></div></td></tr></tbody></table></div><p>Notes:</p><ol><li><p>This class is a <code>static inner </code>class of <code>Graph</code></p></li><li><p>Checking path is always from some node to the <code>source </code>which was set in the constructor</p></li></ol><h2 id="GraphProblems-BreadthFirstSearch">BreadthFirstSearch</h2><div class="table-wrap"><table data-layout="full-width" class="confluenceTable"><colgroup><col style="width: 812.0px;"/><col style="width: 809.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><code>Graph.BreadthFirstSearch</code></p></th><th class="confluenceTh"><p /></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static class BreadthFirstSearch
{
    private int source;
    private boolean[] marked;
    private int[] edgeTo;
    public BreadthFirstSearch(Graph g, int source)
    {
        this.source = source;
        marked = new boolean[g.vertices()];
        edgeTo = new int[g.vertices()];
        bfs(g, source);
    }
    private void bfs(Graph g, int v)
    {
        Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();
        queue.offer(v);
        while (!queue.isEmpty())
        {
            int vertex = queue.poll();
            for (int i : g.adjacency(vertex))
            {
                if (!marked[i])
                {
                    queue.offer(i);
                    marked[i] = true;
                    edgeTo[i] = vertex;
                }
            }
        }
    }
    public boolean hasPathTo(int v)
    {
        return marked[v];
    }
    public List&lt;Integer&gt; pathTo(int v)
    {
        if (!hasPathTo(v))
        {
            return null;
        }
        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();
        for (int i = v; i != source; i = edgeTo[i])
        {
            stack.push(i);
        }
        stack.push(source);
        return stack.stream().collect(Collectors.toList());
    }
}    </pre>
</div></div><p /></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static boolean testsPass()
{
    Graph g = new Graph(13);
    g.addEdge(0, 1);
    g.addEdge(0, 2);
    g.addEdge(0, 6);
    g.addEdge(0, 5);
    g.addEdge(6, 4);
    g.addEdge(4, 5);
    g.addEdge(5, 3);
    g.addEdge(3, 4);
    g.addEdge(7, 8);
    g.addEdge(9, 10);
    g.addEdge(9, 11);
    g.addEdge(9, 12);
    g.addEdge(11, 12);
    BreadthFirstSearch bfs = new BreadthFirstSearch(g, 0);
    boolean check = bfs.hasPathTo(6) &amp;&amp; bfs.hasPathTo(5) &amp;&amp;
            bfs.hasPathTo(4) &amp;&amp; bfs.hasPathTo(1) &amp;&amp;
            bfs.hasPathTo(2) &amp;&amp; bfs.hasPathTo(3);
    if (!check)
    {
        return false;
    }
    List&lt;Integer&gt; path = bfs.pathTo(3);
    check = Arrays.equals(new int[]{3, 5, 0}, path.stream().mapToInt(x -&gt; x).toArray());
    if (!check)
    {
        return false;
    }
    return true;
}</pre>
</div></div></td></tr></tbody></table></div><p>Notes:</p><ol><li><p>This class is a <code>static inner </code>class of <code>Graph</code></p></li><li><p>Checking path is always from some node to the <code>source </code>which was set in the constructor.</p></li><li><p><code>pathTo </code>using <code>bfs</code>, in contrast to <code>dfs</code>,  always returns the shortest path.</p></li><li><p>See <a href="https://nickguner.atlassian.net/wiki/spaces/DEV/pages/875528209/Fifo-Lifo+Problems#%5BhardBreak%5DCanConnect" data-card-appearance="inline" rel="nofollow">https://nickguner.atlassian.net/wiki/spaces/DEV/pages/875528209/Fifo-Lifo+Problems#%5BhardBreak%5DCanConnect</a> for a more general approach to <code>CanConnect </code>problem</p></li></ol><h2 id="GraphProblems-ConnectedComponent">ConnectedComponent</h2><p>Determine if nodes are connected in <code>O(1)</code> time.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/875823108/1024819207.png" data-image-src="attachments/875823108/1024819207.png" data-height="460" data-width="984" data-unresolved-comment-count="0" data-linked-resource-id="1024819207" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20201221-174911.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="875823108" data-linked-resource-container-version="21" data-media-id="3c9f099c-9672-4f4c-951a-14348e066987" data-media-type="file"></span><p /><div class="table-wrap"><table data-layout="full-width" class="confluenceTable"><colgroup><col style="width: 811.0px;"/><col style="width: 810.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><code>Graph.ConnectedComponent</code></p></th><th class="confluenceTh"><p /></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static class ConnectedComponent
{
    //  Note: determine if nodes are connected in O(1) time
    private boolean[] marked;
    private int[] id;
    private int count;

    public ConnectedComponent(Graph g)
    {
        marked = new boolean[g.vertices()];
        id = new int[g.vertices()];
        for(int i = 0; i &lt; g.vertices(); ++i)
        {
            if(!marked[i])
            {
                dfs(g, i);
                count++;
            }
        }
    }

    public int count()
    {
        return count;
    }

    public int id(int v)
    {
        return id[v];
    }

    public boolean connected(int v, int w)
    {
        return id[v] == id[w];
    }

    private void dfs(Graph g, int v)
    {
        marked[v] = true;
        id[v] = count;
        for(int i : g.adjacency(v))
        {
            if(!marked[i])
            {
                dfs(g, i);
            }
        }
    }
}</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static boolean testsPass()
{
    Graph g = new Graph(13);
    g.addEdge(0, 1);
    g.addEdge(0, 2);
    g.addEdge(0, 6);
    g.addEdge(6, 4);
    g.addEdge(4, 5);
    g.addEdge(5, 3);
    g.addEdge(7, 8);
    g.addEdge(9, 10);
    g.addEdge(9, 11);
    g.addEdge(9, 12);
    g.addEdge(11, 12);
    ConnectedComponent cc = new ConnectedComponent(g);
    boolean check = cc.connected(3, 6) &amp;&amp; cc.connected(5, 2) &amp;&amp;
            cc.connected(7, 8) &amp;&amp; cc.connected(10, 12);
    if(!check)
    {
        return false;
    }
    check = !cc.connected(3, 7) &amp;&amp; !cc.connected(5, 11) &amp;&amp; !cc.connected(8, 10);
    if(!check)
    {
        return false;
    }
    return true;
}</pre>
</div></div></td></tr></tbody></table></div><p>Notes:</p><ol><li><p>This class is a <code>static inner </code>class of <code>Graph</code></p></li></ol><p /><h1 id="GraphProblems-MinimalSpanningTree">MinimalSpanningTree</h1><h3 id="GraphProblems-QuickFindandUnionFind">QuickFind and UnionFind</h3><ol><li><p>Answers questions of connectivity</p></li><li><p>Kruskal algorithm uses UnionFind to detect a cycle. See Week 1 of First Algo course.</p></li></ol><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Quick Find</strong></p></th><th class="confluenceTh"><p><strong>Union Find</strong></p></th></tr><tr><td class="confluenceTd"><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/875823108/1068957720.png" data-image-src="attachments/875823108/1068957720.png" data-height="272" data-width="425" data-unresolved-comment-count="0" data-linked-resource-id="1068957720" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210105-135208.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="875823108" data-linked-resource-container-version="21" data-media-id="8ec01714-5d1a-4fde-9ad9-1a4f82cae35b" data-media-type="file"></span><p>Too slow for large dataset.</p></td><td class="confluenceTd"><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/875823108/1068990477.png" data-image-src="attachments/875823108/1068990477.png" data-height="306" data-width="465" data-unresolved-comment-count="0" data-linked-resource-id="1068990477" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210105-151840.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="875823108" data-linked-resource-container-version="21" data-media-id="6f97d353-2c4c-4450-81b1-761c20712068" data-media-type="file"></span><p /></td></tr><tr><td class="confluenceTd"><p>Two objects are connected if their ID is the same.</p><p><code>id[0] = id[5] = id[6] = 0</code></p></td><td class="confluenceTd"><p>Connected nodes have same root</p></td></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public class QuickFind
{
    private int[] id;
    public QuickFind(int n)
    {
        id = new int[n];
        for(int i = 0; i &lt; n; ++i)
        {
            id[i] = i;
        }
    }

    public boolean connected(int p, int q)
    {
        return id[p] == id[q];
    }

    private void union(int p, int q)
    {
        int pid = id[p], qid = id[q];
        for(int i = 0; i &lt; id.length; ++i)
        {
            if(id[i] == pid)
            {
                id[i] = qid;
            }
        }
    }
}</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public class UnionFind
{
    private int[] id;
    public UnionFind(int n)
    {
        id = new int[n];
        for(int i = 0; i &lt; n; ++i)
        {
            id[i] = i;
        }
    }

    public boolean connected(int p, int q)
    {
        return root(p) == root(q);
    }

    public void union(int p, int q)
    {
        int i = root(p);
        int j = root(q);
        id[i] = j;
    }

    private int root(int i)
    {
        while(i != id[i])
        {
            i = id[i];
        }
        return i;
    }
}</pre>
</div></div></td></tr></tbody></table></div><p /><h3 id="GraphProblems-Diagrams">Diagrams</h3><div class="table-wrap"><table data-layout="full-width" class="confluenceTable"><colgroup><col style="width: 812.0px;"/><col style="width: 809.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Adjacency List for Edge Weighted Graph</strong></p></th><th class="confluenceTh"><p><strong>Kruskal &amp; Prim MST</strong></p></th></tr><tr><td class="confluenceTd"><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/875823108/1068957700.png" data-image-src="attachments/875823108/1068957700.png" data-height="258" data-width="488" data-unresolved-comment-count="0" data-linked-resource-id="1068957700" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210105-121342.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="875823108" data-linked-resource-container-version="21" data-media-id="08008bff-88bb-4699-9290-c33b8181dcf7" data-media-type="file"></span></td><td class="confluenceTd"><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" width="340" loading="lazy" src="attachments/875823108/1069711363.png?width=340" data-image-src="attachments/875823108/1069711363.png" data-height="213" data-width="394" data-unresolved-comment-count="0" data-linked-resource-id="1069711363" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210105-194948.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="875823108" data-linked-resource-container-version="21" data-media-id="891d995a-ca24-4291-af1a-97bc0e3503cc" data-media-type="file"></span><p /></td></tr></tbody></table></div><p /><h2 id="GraphProblems-Kruskal&amp;PrimMST">Kruskal &amp; Prim MST</h2><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 557.0px;"/><col style="width: 403.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p>MinSpanTree</p></th><th class="confluenceTh"><p>Tests</p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static class UnionFind
{
    private int[] id;
    public UnionFind(int n)
    {
        id = new int[n];
        for(int i = 0; i &lt; n; ++i)
        {
            id[i] = i;
        }
    }
    public boolean connected(int p, int q)
    {
        return root(p) == root(q);
    }
    public void union(int p, int q)
    {
        int i = root(p);
        int j = root(q);
        id[i] = j;
    }
    private int root(int i)
    {
        while(i != id[i])
        {
            i = id[i];
        }
        return i;
    }
}</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static class Edge implements Comparable&lt;Edge&gt;
{
    private double weight;
    private int v;
    private int w;
    Edge(int v, int w, double weight)
    {
        this.v = v;
        this.w = w;
        this.weight = weight;
    }
    int either()
    {
        return v;
    }
    int other(int vertex)
    {
        if(vertex == v)
        {
            return w;
        }
        return v;
    }
    double weight()
    {
        return weight;
    }
    @Override
    public int compareTo(Edge o)
    {
        return Double.compare(weight, o.weight);
    }
}</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static class EdgeWeightedGraph
{
    private int V;
    private List&lt;Edge&gt; edges = new ArrayList&lt;&gt;();
    private List&lt;Edge&gt;[] adjList;
    EdgeWeightedGraph(int v)
    {
        this.V = v;
        adjList = (List&lt;Edge&gt;[])new List[V];
        for(int i = 0; i &lt; V; ++i)
        {
            adjList[i] = new ArrayList&lt;&gt;();
        }
    }
    void addEdge(Edge edge)
    {
        edges.add(edge);
        int v = edge.either();
        int w = edge.other(v);
        adjList[v].add(edge);
        adjList[w].add(edge);
    }
    int V()
    {
        return V;
    }
}</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static class KruskalMST
{
    private Queue&lt;Edge&gt; edges = new LinkedList&lt;&gt;();
    KruskalMST(EdgeWeightedGraph g)
    {
        PriorityQueue&lt;Edge&gt; minHeap = new PriorityQueue&lt;&gt;();
        minHeap.addAll(g.edges);
        UnionFind uf = new UnionFind(g.V());
        while(!minHeap.isEmpty() &amp;&amp; edges.size() &lt; g.V() - 1)
        {
            Edge e = minHeap.poll();
            int v = e.either();
            int w = e.other(v);
            if(!uf.connected(v, w))
            {
                uf.union(v, w);
                edges.offer(e);
            }
        }
    }
    List&lt;Edge&gt; edges()
    {
        return edges.stream().collect(Collectors.toList());
    }
    double getMSTWeight()
    {
        return edges.stream()
           .map(Edge::weight)
           .reduce(0.0, Double::sum);
    }
}</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static class PrimMST
{
    private boolean[] marked;
    private Queue&lt;Edge&gt; edges = new LinkedList&lt;&gt;();
    private PriorityQueue&lt;Edge&gt; minHeap = new PriorityQueue&lt;&gt;();
    PrimMST(EdgeWeightedGraph g)
    {
        marked = new boolean[g.V()];
        visit(g, 0);
        while(!minHeap.isEmpty())
        {
            Edge e = minHeap.poll();
            int v = e.either();
            int w = e.other(v);
            if(!(marked[v] &amp;&amp; marked[w]))
            {
                edges.offer(e);
                if(!marked[v])
                {
                    visit(g, v);
                }
                if(!marked[w])
                {
                    visit(g, w);
                }
            }
        }
    }
    private void visit(EdgeWeightedGraph g, int v)
    {
        marked[v] = true;
        for(Edge e : g.adjList[v])
        {
            if(!marked[e.other(v)])
            {
                minHeap.offer(e);
            }
        }
    }
    double getMSTWeight()
    {
        return edges.stream()
            .map(Edge::weight)
            .reduce(0.0, Double::sum);
    }
}</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static boolean testsPass()
{
    EdgeWeightedGraph g = new EdgeWeightedGraph(8);
    g.addEdge(new Edge(0, 2, 0.26));
    g.addEdge(new Edge(0, 7, 0.16));
    g.addEdge(new Edge(0, 4, 0.38));
    g.addEdge(new Edge(0, 6, 0.58));
    g.addEdge(new Edge(1, 3, 0.29));
    g.addEdge(new Edge(1, 5, 0.32));
    g.addEdge(new Edge(1, 7, 0.19));
    g.addEdge(new Edge(1, 2, 0.36));
    g.addEdge(new Edge(2, 6, 0.40));
    g.addEdge(new Edge(2, 7, 0.34));
    g.addEdge(new Edge(3, 6, 0.52));
    g.addEdge(new Edge(4, 5, 0.35));
    g.addEdge(new Edge(4, 6, 0.93));
    g.addEdge(new Edge(4, 7, 0.37));
    g.addEdge(new Edge(5, 7, 0.28));
    g.addEdge(new Edge(3, 2, 0.17));
    KruskalMST mst = new KruskalMST(g);
    boolean check = mst.getMSTWeight() == 1.81;
    if(!check)
    {
        return false;
    }
    return true;
}</pre>
</div></div></td></tr></tbody></table></div><p>Notes:</p><ol><li><p>Kriskal</p><ol><li><p><code>O(E * logE)</code></p></li><li><p>Add edges starting sorted by weight as long as they do not create a cycle. Use <code>UnionFind </code>to determine cycles.</p></li><li><p><code>E = V - 1</code> means we have an MST</p></li></ol></li><li><p>Prim</p><ol><li><p>Start with node 0 and choose next node at min distance</p></li></ol></li></ol><h1 id="GraphProblems-ShortestPath">Shortest Path</h1><h3 id="GraphProblems-Diagrams.1">Diagrams</h3><div class="table-wrap"><table data-layout="full-width" class="confluenceTable"><colgroup><col style="width: 811.0px;"/><col style="width: 810.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Adjacency List</strong></p></th><th class="confluenceTh"><p><strong>Dijkstra Graph</strong></p></th></tr><tr><td class="confluenceTd"><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/875823108/1070301217.png" data-image-src="attachments/875823108/1070301217.png" data-height="323" data-width="418" data-unresolved-comment-count="0" data-linked-resource-id="1070301217" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210106-124133.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="875823108" data-linked-resource-container-version="21" data-media-id="dc101c59-0e3c-4876-b2ae-5131b4f9362a" data-media-type="file"></span><p /></td><td class="confluenceTd"><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/875823108/1072824325.png" data-image-src="attachments/875823108/1072824325.png" data-height="361" data-width="652" data-unresolved-comment-count="0" data-linked-resource-id="1072824325" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210106-133707.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="875823108" data-linked-resource-container-version="21" data-media-id="4a92b13c-4682-4927-a5ea-87dea764e8a0" data-media-type="file"></span><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/875823108/1072824331.png" data-image-src="attachments/875823108/1072824331.png" data-height="277" data-width="710" data-unresolved-comment-count="0" data-linked-resource-id="1072824331" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210106-134450.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="875823108" data-linked-resource-container-version="21" data-media-id="ddf1108d-f844-4dfb-ae90-29cac1d61eb8" data-media-type="file"></span><p /></td></tr></tbody></table></div><h2 id="GraphProblems-DijkstraShortestPath">DijkstraShortestPath</h2><div class="table-wrap"><table data-layout="full-width" class="confluenceTable"><colgroup><col style="width: 811.0px;"/><col style="width: 810.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p>ShortestPath</p></th><th class="confluenceTh"><p>Tests</p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static class DirectedEdge
{
    private int from;
    private int to;
    private double weight;
    DirectedEdge(int from, int to, double weight)
    {
        this.from = from;
        this.to = to;
        this.weight = weight;
    }
    int from()
    {
        return from;
    }
    int to()
    {
        return to;
    }
    double weight()
    {
        return weight;
    }
}</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static class EdgeWeightedDiGraph
{
    private int V;
    private List&lt;DirectedEdge&gt;[] adjList;
    EdgeWeightedDiGraph(int V)
    {
        this.V = V;
        adjList = (List&lt;DirectedEdge&gt;[]) new List[V];
        for(int i = 0; i &lt; V; ++i)
        {
            adjList[i] = new ArrayList&lt;&gt;();
        }
    }
    void addEdge(DirectedEdge e)
    {
        adjList[e.from].add(e);
    }
    List&lt;DirectedEdge&gt; adjList(int v)
    {
        return adjList[v];
    }
    int V()
    {
        return V;
    }
}</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static class DijkstraShortestPath
{
    private double[] distTo;
    private DirectedEdge[] edgeTo;
    private PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;();
    DijkstraShortestPath(EdgeWeightedDiGraph g, int source)
    {
        distTo = new double[g.V()];
        Arrays.fill(distTo, Double.MAX_VALUE);
        distTo[source] = 0.0;
        edgeTo = new DirectedEdge[g.V()];
        pq.offer(source);
        while(!pq.isEmpty())
        {
            int vertex = pq.poll();
            for(DirectedEdge e : g.adjList(vertex))
            {
                relax(e);
            }
        }
    }
    double distanceTo(int v)
    {
        return distTo[v];
    }
    List&lt;DirectedEdge&gt; pathTo(int v)
    {
        Stack&lt;DirectedEdge&gt; path = new Stack&lt;&gt;();
        for(DirectedEdge e = edgeTo[v]; e != null; e = edgeTo[e.fro
        {
            path.push(e);
        }
        return path.stream().collect(Collectors.toList());
    }
    private void relax(DirectedEdge e)
    {
        int from = e.from(), to = e.to();
        if(distTo[to] &gt; distTo[from] + e.weight())
        {
            distTo[to] = distTo[from] + e.weight();
            edgeTo[to] = e;
            pq.offer(to);
        }
    }
}</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">static boolean testsPass()
{
    EdgeWeightedDiGraph g = new EdgeWeightedDiGraph(8);
    g.addEdge(new DirectedEdge(0, 1, 5.0));
    g.addEdge(new DirectedEdge(0, 4, 9.0));
    g.addEdge(new DirectedEdge(0, 7, 8.0));
    g.addEdge(new DirectedEdge(1, 7, 4.0));
    g.addEdge(new DirectedEdge(1, 2, 12.0));
    g.addEdge(new DirectedEdge(1, 3, 15.0));
    g.addEdge(new DirectedEdge(2, 3, 3.0));
    g.addEdge(new DirectedEdge(2, 6, 11.0));
    g.addEdge(new DirectedEdge(3, 6, 9.0));
    g.addEdge(new DirectedEdge(4, 5, 4.0));
    g.addEdge(new DirectedEdge(4, 7, 5.0));
    g.addEdge(new DirectedEdge(4, 6, 20.0));
    g.addEdge(new DirectedEdge(5, 2, 1.0));
    g.addEdge(new DirectedEdge(5, 6, 13.0));
    g.addEdge(new DirectedEdge(7, 2, 7.0));
    g.addEdge(new DirectedEdge(7, 5, 6.0));
    DijkstraShortestPath dsp = new DijkstraShortestPath(g, 0);
    boolean check = dsp.distanceTo(6) == 25 &amp;&amp; dsp.distanceTo(3) == 17;
    if(!check)
    {
        return false;
    }
    List&lt;DirectedEdge&gt; path = dsp.pathTo(3);
    int[] a = path.stream().mapToInt(DirectedEdge::from).toArray();
    check = Arrays.equals(a, new int[] {2, 5, 4, 0});
    if(!check)
    {
        return false;
    }
    return true;
}</pre>
</div></div></td></tr></tbody></table></div><p /><p /><p><br/></p><p><br/></p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1024819207.png">image-20201221-174911.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1024622598.png">image-20201221-175553.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1051164814.png">image-20210103-180648.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1048281447.png">image-20210103-181303.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1051164824.png">image-20210103-181633.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1048117635.png">image-20210103-191128.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1068957700.png">image-20210105-121342.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1068957706.png">image-20210105-123207.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1069056003.png">image-20210105-123257.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1068957712.png">image-20210105-123323.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1068990469.png">image-20210105-123423.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1068957720.png">image-20210105-135208.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1068990477.png">image-20210105-151840.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1069711363.png">image-20210105-194948.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1070301217.png">image-20210106-124133.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1070301223.png">image-20210106-125217.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1069678623.png">image-20210106-133532.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1072824325.png">image-20210106-133707.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/875823108/1072824331.png">image-20210106-134450.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Feb 12, 2021 23:36</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
