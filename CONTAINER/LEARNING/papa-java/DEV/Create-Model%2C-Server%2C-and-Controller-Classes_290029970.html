<!DOCTYPE html>
<html>
    <head>
        <title>DevOps : Create Model, Server, and Controller Classes</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DevOps</a></span>
                            </li>
                                                    <li>
                                <span><a href="DevOps-Home_603226548.html">DevOps Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Tutorials_278921431.html">Tutorials</a></span>
                            </li>
                                                    <li>
                                <span><a href="Spring-Boot_278888737.html">Spring Boot</a></span>
                            </li>
                                                    <li>
                                <span><a href="Basic_289898911.html">Basic</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DevOps : Create Model, Server, and Controller Classes
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Nicholas Guner</span> on Apr 20, 2020
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>Several tutorial exercises presented in this section will use same Model, Server, and Controller classes.</p><p>Rather than repeat the same information on many tutorial pages, we include it here and reference it from other exercises.</p><h3 id="CreateModel,Server,andControllerClasses-Createnewpackagesundertherootpackage">Create new packages under the root package</h3><ul><li><p><code>model</code></p></li><li><p><code>service</code></p></li><li><p><code>controller</code></p></li></ul><h3 id="CreateModel,Server,andControllerClasses-ImplementStudentandCourseclassesinmodelpackage">Implement Student and Course classes in model package</h3><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>model/Student.java</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>model/Course.java</strong></p></th></tr><tr><td class="confluenceTd"><p><code>public class Student</code></p><p><code>{</code></p><p><code>    private String id;</code></p><p><code>    private String name;</code></p><p><code>    private String description;</code></p><p><code>    private List&lt;Course&gt; courses;</code></p><p><code> </code></p><p><code> </code></p><p><code>    public Student(String id, String name, String description, List&lt;Course&gt; courses)</code></p><p><code>    {</code></p><p><code>        this.id = id;</code></p><p><code>        this.name = name;</code></p><p><code>        this.description = description;</code></p><p><code>        this.courses = courses;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public String getId()</code></p><p><code>    {</code></p><p><code>        return id;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public void setId(String id)</code></p><p><code>    {</code></p><p><code>        this.id = id;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public String getName()</code></p><p><code>    {</code></p><p><code>        return name;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public void setName(String name)</code></p><p><code>    {</code></p><p><code>        this.name = name;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public String getDescription()</code></p><p><code>    {</code></p><p><code>        return description;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public void setDescription(String description)</code></p><p><code>    {</code></p><p><code>        this.description = description;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public List&lt;Course&gt; getCourses()</code></p><p><code>    {</code></p><p><code>        return courses;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public void setCourses(List&lt;Course&gt; courses)</code></p><p><code>    {</code></p><p><code>        this.courses = courses;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    @Override</code></p><p><code>    public String toString()</code></p><p><code>    {</code></p><p><code>        return &quot;Student{&quot; +</code></p><p><code>                &quot;id='&quot; + id + '\'' +</code></p><p><code>                &quot;, name='&quot; + name + '\'' +</code></p><p><code>                &quot;, description='&quot; + description + '\'' +</code></p><p><code>                &quot;, courses=&quot; + courses +</code></p><p><code>                '}';</code></p><p><code>    }</code></p><p><code>}</code></p></td><td class="confluenceTd"><p><code>public class Course</code></p><p><code>{</code></p><p><code>    private String id;</code></p><p><code>    private String name;</code></p><p><code>    private String description;</code></p><p><code>    private List&lt;String&gt; steps;</code></p><p><code> </code></p><p><code>    public Course(String id, String name, String description, List&lt;String&gt; steps)</code></p><p><code>    {</code></p><p><code>        this.id = id;</code></p><p><code>        this.name = name;</code></p><p><code>        this.description = description;</code></p><p><code>        this.steps = steps;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public Course() {}</code></p><p><code> </code></p><p><code>    public String getId()</code></p><p><code>    {</code></p><p><code>        return id;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public void setId(String id)</code></p><p><code>    {</code></p><p><code>        this.id = id;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public String getName()</code></p><p><code>    {</code></p><p><code>        return name;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public String getDescription()</code></p><p><code>    {</code></p><p><code>        return description;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public List&lt;String&gt; getSteps()</code></p><p><code>    {</code></p><p><code>        return steps;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    @Override</code></p><p><code>    public String toString()</code></p><p><code>    {</code></p><p><code>        return &quot;Course{&quot; +</code></p><p><code>                &quot;id='&quot; + id + '\'' +</code></p><p><code>                &quot;, name='&quot; + name + '\'' +</code></p><p><code>                &quot;, description='&quot; + description + '\'' +</code></p><p><code>                &quot;, steps=&quot; + steps +</code></p><p><code>                '}';</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    @Override</code></p><p><code>    public boolean equals(Object o)</code></p><p><code>    {</code></p><p><code>        if (this == o) return true;</code></p><p><code>        if (o == null || getClass() != o.getClass()) return false;</code></p><p><code>        Course course = (Course) o;</code></p><p><code>        return Objects.equals(id, course.id) &amp;&amp;</code></p><p><code>                Objects.equals(name, course.name) &amp;&amp;</code></p><p><code>                Objects.equals(description, course.description) &amp;&amp;</code></p><p><code>                Objects.equals(steps, course.steps);</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    @Override</code></p><p><code>    public int hashCode()</code></p><p><code>    {</code></p><p><code>        return Objects.hash(id, name, description, steps);</code></p><p><code>    }</code></p><p><code>}</code></p></td></tr></tbody></table></div><h3 id="CreateModel,Server,andControllerClasses-ImplementServiceinsidetheservicepackage">Implement Service inside the service package</h3><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>service/StudentService.java</strong></p></th></tr><tr><td class="confluenceTd"><p><code>@Component</code></p><p><code>public class StudentService</code></p><p><code>{</code></p><p><code>    private static List&lt;Student&gt; students = new ArrayList&lt;&gt;();</code></p><p><code> </code></p><p><code>    static</code></p><p><code>    {</code></p><p><code>        Course course1 = new Course(&quot;Course1&quot;, &quot;Spring&quot;, &quot;10 Steps&quot;, Arrays.asList(&quot;Learn Maven&quot;, &quot;Import Project&quot;, &quot;First Example&quot;, &quot;Second Example&quot;));</code></p><p><code>        Course course2 = new Course(&quot;Course2&quot;, &quot;Spring MVC&quot;, &quot;10 Examples&quot;, Arrays.asList(&quot;Learn Maven&quot;, &quot;Import Project&quot;, &quot;First Example&quot;, &quot;Second Example&quot;));</code></p><p><code>        Course course3 = new Course(&quot;Course3&quot;, &quot;Spring Boot&quot;, &quot;6K Students&quot;, Arrays.asList(&quot;Learn Maven&quot;, &quot;Learn Spring&quot;, &quot;Learn Spring MVC&quot;, &quot;First Example&quot;, &quot;Second Example&quot;));</code></p><p><code>        Course course4 = new Course(&quot;Course4&quot;, &quot;Maven&quot;, &quot;Most popular maven course on internet!&quot;, Arrays.asList(&quot;Pom.xml&quot;, &quot;Build Life Cycle&quot;, &quot;Parent POM&quot;, &quot;Importing into Eclipse&quot;));</code></p><p><code> </code></p><p><code>        Student nick = new Student(&quot;Student1&quot;, &quot;Nick Guner&quot;,&quot;Hiker, Programmer and Architect&quot;, new ArrayList&lt;&gt;(Arrays.asList(course1, course2, course3, course4)));</code></p><p><code>        Student neeraja = new Student(&quot;Student2&quot;, &quot;Neeraja Devadas&quot;, &quot;Hiker, Programmer and Architect&quot;, new ArrayList&lt;&gt;(Arrays.asList(course1, course2, course3, course4)));</code></p><p><code> </code></p><p><code>        students.add(nick);</code></p><p><code>        students.add(neeraja);</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public List&lt;Student&gt; retrieveAllStudents()</code></p><p><code>    {</code></p><p><code>        return students;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public Student retrieveStudent(String studentId)</code></p><p><code>    {</code></p><p><code>        return students.stream().filter(s -&gt; s.getId().equals(studentId)).findAny().get();</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public List&lt;Course&gt; retrieveCourses(String studentId)</code></p><p><code>    {</code></p><p><code>        Student student = retrieveStudent(studentId);</code></p><p><code>        return student != null ? student.getCourses() : Collections.emptyList();</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public Course retrieveCourse(String studentId, String courseId)</code></p><p><code>    {</code></p><p><code>        Student student = retrieveStudent(studentId);</code></p><p><code> </code></p><p><code>        if(student != null)</code></p><p><code>        {</code></p><p><code>            return student.getCourses().stream().filter(c -&gt; c.getId().equals(courseId)).findFirst().get();</code></p><p><code>        }</code></p><p><code>        return null;</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    public Course addCourse(String studentId, Course course)</code></p><p><code>    {</code></p><p><code>        Student student = retrieveStudent(studentId);</code></p><p><code>        if(student != null)</code></p><p><code>        {</code></p><p><code>            SecureRandom random = new SecureRandom();</code></p><p><code>            String randomId = new BigInteger(130, random).toString(32);</code></p><p><code>            course.setId(randomId);</code></p><p><code>            student.getCourses().add(course);</code></p><p><code>            return course;</code></p><p><code>        }</code></p><p><code>        return null;</code></p><p><code>    }</code></p><p><code>}</code></p></td></tr></tbody></table></div><h3 id="CreateModel,Server,andControllerClasses-ImplementRestControllerincontrollerpackage">Implement RestController in controller package</h3><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>controller/StudentController.java</strong></p></th></tr><tr><td class="confluenceTd"><p><code>@RestController</code></p><p><code>public class StudentController</code></p><p><code>{</code></p><p><code>    @Autowired</code></p><p><code>    private StudentService studentService;</code></p><p><code> </code></p><p><code>    @GetMapping(&quot;/students/{studentId}/courses&quot;)</code></p><p><code>    public List&lt;Course&gt; retrieveCoursesForStudent(@PathVariable String studentId)</code></p><p><code>    {</code></p><p><code>        return studentService.retrieveCourses(studentId);</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    @GetMapping(&quot;/students/{studentId}/courses/{courseId}&quot;)</code></p><p><code>    public Course retrieveDetailsForCourse(@PathVariable String studentId, @PathVariable String courseId)</code></p><p><code>    {</code></p><p><code>        return studentService.retrieveCourse(studentId, courseId);</code></p><p><code>    }</code></p><p><code> </code></p><p><code>    @PostMapping(&quot;/students/{studentId}/courses&quot;)</code></p><p><code>    public ResponseEntity&lt;Void&gt; registerStudentForCourse(@PathVariable String studentId, @RequestBody Course newCourse) {</code></p><p><code> </code></p><p><code>        Course course = studentService.addCourse(studentId, newCourse);</code></p><p><code> </code></p><p><code>        if (course == null)</code></p><p><code>        {</code></p><p><code>            return ResponseEntity.noContent().build();</code></p><p><code>        }</code></p><p><code> </code></p><p><code>        URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(course.getId()).toUri();</code></p><p><code>        return ResponseEntity.created(location).build();</code></p><p><code>    }</code></p><p><code>}</code></p></td></tr></tbody></table></div><p />
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Feb 12, 2021 23:35</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
