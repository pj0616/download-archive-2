<!DOCTYPE html>
<html>
    <head>
        <title>DevOps : Mapped Superclass and Table Per Class</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DevOps</a></span>
                            </li>
                                                    <li>
                                <span><a href="DevOps-Home_603226548.html">DevOps Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Tutorials_278921431.html">Tutorials</a></span>
                            </li>
                                                    <li>
                                <span><a href="Spring-Boot_278888737.html">Spring Boot</a></span>
                            </li>
                                                    <li>
                                <span><a href="Basic_289898911.html">Basic</a></span>
                            </li>
                                                    <li>
                                <span><a href="295075841.html">Inheritance (with HATEOAS Links)</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DevOps : Mapped Superclass and Table Per Class
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Nicholas Guner</span> on Apr 20, 2020
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>Mapped Supperclass relates to marking the base entity class with <code>@MappedSuperclass</code> annotation (and not marking it with <code>@Entity</code> annotation).</p><p>This approach creates a table per each derived (entity) class and may have an advantage over a <a href="https://confluence.apg.services.gs.com/display/~gunern/Single+Table" class="external-link" rel="nofollow">Single Table</a> approach since it does not need <code>null</code> values for columns that don't apply to a particular product.</p><p>However, by itself, the  <code>@MappedSuperclass</code> annotation is not a viable design approach because it does not allow any associations (i.e. OneToOne, OneToMany, etc.) between the base class itself and other Entity classes. The <a href="https://confluence.apg.services.gs.com/display/~gunern/Table+Per+Class" class="external-link" rel="nofollow">Table Per Class</a> does support annotations and it is only a slight variation of the Mapped Supperclass approach.</p><p><br/></p><p>Let us consider a hierarchy of products like <code>Books</code> and <code>Pens</code>. We will designate <code>Product</code> as an abstract base class and have <code>Book</code> and <code>Pen</code> derive from <code>Product</code>.</p><p>To create an in-memory database we using following statements</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><tbody><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">--BOOK
INSERT INTO BOOK(product_id, name, author) VALUES(1, &#39;Tom Sawyer&#39;, &#39;Mark Twain&#39;)
INSERT INTO BOOK(product_id, name, author) VALUES(2, &#39;Catch 22&#39;, &#39;Joseph Heller&#39;)
INSERT INTO BOOK(product_id, name, author) VALUES(3, &#39;War and Peace&#39;, &#39;Lev Tolstoy&#39;)

--PEN
INSERT INTO PEN(product_id, name, color) VALUES(1, &#39;ballpoint&#39;, &#39;blue&#39;)
INSERT INTO PEN(product_id, name, color) VALUES(2, &#39;marker&#39;, &#39;red&#39;)
INSERT INTO PEN(product_id, name, color) VALUES(3, &#39;felt-tip&#39;, &#39;green&#39;)</pre>
</div></div></td></tr></tbody></table></div><p>We also need to add properties to enable in-memory H2 database</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><tbody><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">spring.jpa.show-sql=true
spring.h2.console.enabled=true
spring.datasource.url=jdbc:h2:mem:db

spring.data.rest.defaultMediaType=application/json
spring.jackson.default-property-inclusion=NON_NULL</pre>
</div></div></td></tr></tbody></table></div><p><br/></p><h2 id="MappedSuperclassandTablePerClass-EntityObjects">Entity Objects</h2><h3 id="MappedSuperclassandTablePerClass-ProductEntity">Product Entity</h3><div class="table-wrap"><table data-layout="default" class="confluenceTable"><tbody><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">@MappedSuperclass
public abstract class Product extends ResourceSupport
{
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int productId;
    private String name;


    public int getProductId()
    {
        return productId;
    }

    public void setProductId(int productId)
    {
        this.productId = productId;
    }

    public String getName()
    {
        return name;
    }

    public void setName(String name)
    {
        this.name = name;
    }

     @Override
    public String toString()
    {
        return &quot;Product{&quot; +
                &quot;productId=&quot; + productId +
                &quot;, name=&#39;&quot; + name + &#39;\&#39;&#39; +
                &#39;}&#39;;
    }
}</pre>
</div></div></td></tr></tbody></table></div><p><br/><strong>Book and Pen Entities</strong></p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><tbody><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">@Entity
public class Book extends Product
{
    private String author;

    public String getAuthor()
    {
        return author;
    }

    public void setAuthor(String author)
    {
        this.author = author;
    }

    @Override
    public String toString()
    {
        return &quot;Book{&quot; +
                &quot;author=&#39;&quot; + author + &#39;\&#39;&#39; +
                &#39;}&#39;;
    }
}</pre>
</div></div></td></tr></tbody></table></div><p><br/></p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><tbody><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">@Entity
public class Pen extends Product
{
    private String color;

    public String getColor()
    {
        return color;
    }

    public void setColor(String color)
    {
        this.color = color;
    }

    @Override
    public String toString()
    {
        return &quot;Pen{&quot; +
                &quot;color=&#39;&quot; + color + &#39;\&#39;&#39; +
                &#39;}&#39;;
    }
}</pre>
</div></div></td></tr></tbody></table></div><p><br/></p><h2 id="MappedSuperclassandTablePerClass-CheckingtheDatabase">Checking the Database</h2><p>This code will create a database with two tables:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Books</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Pens</strong></p></th></tr><tr><td class="confluenceTd"><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image confluence-external-resource image-center" src="https://confluence.apg.services.gs.com/download/attachments/609786234/image2019-10-8_9-20-26.png?version=1&amp;modificationDate=1570540826566&amp;api=v2" data-image-src="https://confluence.apg.services.gs.com/download/attachments/609786234/image2019-10-8_9-20-26.png?version=1&amp;modificationDate=1570540826566&amp;api=v2" loading="lazy"></span></td><td class="confluenceTd"><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image confluence-external-resource image-center" src="https://confluence.apg.services.gs.com/download/attachments/609786234/image2019-10-8_9-19-50.png?version=1&amp;modificationDate=1570540790573&amp;api=v2" data-image-src="https://confluence.apg.services.gs.com/download/attachments/609786234/image2019-10-8_9-19-50.png?version=1&amp;modificationDate=1570540790573&amp;api=v2" loading="lazy"></span></td></tr></tbody></table></div><h2 id="MappedSuperclassandTablePerClass-Controllers">Controllers</h2><p>We will create two controllers to demonstrate various methodologies for querying data.</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><tbody><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">@RestController
@RepositoryRestController
public class JpqlController
{
    @Autowired
    private EntityManager entityManager;

    @GetMapping(&quot;/jpql/books&quot;)
    public @ResponseBody
    ResponseEntity&lt;?&gt; getBooks()
    {
        List&lt;Book&gt; books = entityManager.createQuery(&quot;SELECT b FROM Book b&quot;).getResultList();

        List&lt;Book&gt; linkedBooks = books.stream()
                .map(b -&gt; {b.add(linkTo(methodOn(getClass()).getBooks()).slash( &quot;/&quot; + b.getProductId()).withSelfRel()); return b;})
                .collect(Collectors.toList());

        Resources&lt;Book&gt; resources = new Resources&lt;&gt;(linkedBooks);
        resources.add(linkTo(methodOn(getClass()).getBooks()).withSelfRel());
        return ResponseEntity.ok(resources);
    }

    @GetMapping(&quot;/jpql/books/{id}&quot;)
    public @ResponseBody
    ResponseEntity&lt;?&gt; getBook(@PathVariable(&quot;id&quot;) int id)
    {

        Book book = entityManager.find(Book.class, id);
        Resource&lt;Book&gt; resource = new Resource&lt;&gt;(book);
        resource.add(linkTo(methodOn(getClass()).getBook(id)).withSelfRel());
        return ResponseEntity.ok(resource);
    }

    @GetMapping(&quot;/jpql/pens&quot;)
    public @ResponseBody
    ResponseEntity&lt;?&gt; getPens()
    {
        List&lt;Pen&gt; pens = entityManager.createQuery(&quot;SELECT p FROM Pen p&quot;).getResultList();

        List&lt;Pen&gt; linkedPens = pens.stream()
                .map(p -&gt; {p.add(linkTo(methodOn(getClass()).getPens()).slash( &quot;/&quot; + p.getProductId()).withSelfRel()); return p;})
                .collect(Collectors.toList());

        Resources&lt;Pen&gt; resources = new Resources&lt;&gt;(linkedPens);
        resources.add(linkTo(methodOn(getClass()).getPens()).withSelfRel());
        return ResponseEntity.ok(resources);
    }

    @GetMapping(&quot;/jpql/pens/{id}&quot;)
    public @ResponseBody
    ResponseEntity&lt;?&gt; getPen(@PathVariable(&quot;id&quot;) int id)
    {

        Pen pen = entityManager.find(Pen.class, id);
        Resource&lt;Pen&gt; resource = new Resource&lt;&gt;(pen);
        resource.add(linkTo(methodOn(getClass()).getPen(id)).withSelfRel());
        return ResponseEntity.ok(resource);
    }
}</pre>
</div></div></td></tr></tbody></table></div><p>We will also create a RepoController with enhanced functionality to be able to query books by title and author and to query pens by name and color.</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><tbody><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">@RestController
@RepositoryRestController
public class RepoController
{
    @Autowired
    private BookRepository bookRepository;
    @Autowired
    private PenRepository penRepository;


    @GetMapping(&quot;/repo/books&quot;)
    public @ResponseBody
    ResponseEntity&lt;?&gt; getBooks()
    {
        List&lt;Book&gt; books = bookRepository.findAll();

        List&lt;Book&gt; linkedBooks = books.stream()
                .map(b -&gt; {b.add(linkTo(methodOn(getClass()).getBooks()).slash( &quot;/&quot; + b.getProductId()).withRel(&quot;id&quot;)); return b;})
                .map(b -&gt; {b.add(linkTo(methodOn(getClass()).getBookByTitle(b.getName())).withRel(&quot;title&quot;)); return b;})
                .map(b -&gt; {b.add(linkTo(methodOn(getClass()).getBookByAuthor(b.getAuthor())).withRel(&quot;author&quot;)); return b;})
                .collect(Collectors.toList());

        Resources&lt;Book&gt; resources = new Resources&lt;&gt;(linkedBooks);
        resources.add(linkTo(methodOn(getClass()).getBooks()).withSelfRel());
        return ResponseEntity.ok(resources);
    }

    @GetMapping(&quot;/repo/books/{id}&quot;)
    public  ResponseEntity&lt;Resource&lt;Book&gt;&gt;  getBook(@PathVariable(&quot;id&quot;) int id)
    {
        Optional&lt;Book&gt; bookOptional = bookRepository.findById(id);

        if(!bookOptional.isPresent())
        {
            throw new NotFoundException(&quot;productId-&quot; + id);
        }
        Book book = bookOptional.get();
        Resource&lt;Book&gt; resource = new Resource&lt;&gt;(book);
        ControllerLinkBuilder linkTo = linkTo(methodOn(getClass()).getBooks());
        resource.add(linkTo.withRel(&quot;all-books&quot;));
        return ResponseEntity.ok(resource);
    }

    @GetMapping(&quot;/repo/books/title/{title}&quot;)
    public  ResponseEntity&lt;Resource&lt;Book&gt;&gt;  getBookByTitle(@PathVariable(&quot;title&quot;) String title)
    {
        Optional&lt;Book&gt; bookOptional = bookRepository.findByName(title);

        if(!bookOptional.isPresent())
        {
            throw new NotFoundException(&quot;title-&quot; + title);
        }
        Book book = bookOptional.get();
        Resource&lt;Book&gt; resource = new Resource&lt;&gt;(book);
        ControllerLinkBuilder linkTo = linkTo(methodOn(getClass()).getBooks());
        resource.add(linkTo.withRel(&quot;all-books&quot;));
        return ResponseEntity.ok(resource);
    }

    @GetMapping(&quot;/repo/books/author/{author}&quot;)
    public  ResponseEntity&lt;Resource&lt;Book&gt;&gt;  getBookByAuthor(@PathVariable(&quot;author&quot;) String author)
    {
        Optional&lt;Book&gt; bookOptional = bookRepository.findByAuthor(author);

        if(!bookOptional.isPresent())
        {
            throw new NotFoundException(&quot;author-&quot; + author);
        }
        Book book = bookOptional.get();
        Resource&lt;Book&gt; resource = new Resource&lt;&gt;(book);
        ControllerLinkBuilder linkTo = linkTo(methodOn(getClass()).getBooks());
        resource.add(linkTo.withRel(&quot;all-books&quot;));
        return ResponseEntity.ok(resource);
    }


    @GetMapping(&quot;/repo/pens&quot;)
    public @ResponseBody
    ResponseEntity&lt;?&gt; getPens()
    {
        List&lt;Pen&gt; pens = penRepository.findAll();

        List&lt;Pen&gt; linkedPens = pens.stream()
                .map(p -&gt; {p.add(linkTo(methodOn(getClass()).getPens()).slash( &quot;/&quot; + p.getProductId()).withRel(&quot;id&quot;)); return p;})
                .map(p -&gt; {p.add(linkTo(methodOn(getClass()).getPenByName(p.getName())).withRel(&quot;name&quot;)); return p;})
                .map(p -&gt; {p.add(linkTo(methodOn(getClass()).getPenByColor(p.getColor())).withRel(&quot;color&quot;)); return p;})
                .collect(Collectors.toList());

        Resources&lt;Pen&gt; resources = new Resources&lt;&gt;(linkedPens);
        resources.add(linkTo(methodOn(getClass()).getPens()).withSelfRel());
        return ResponseEntity.ok(resources);
    }

    @GetMapping(&quot;/repo/pens/{id}&quot;)
    public  ResponseEntity&lt;Resource&lt;Pen&gt;&gt;  getPen(@PathVariable(&quot;id&quot;) int id)
    {
        Optional&lt;Pen&gt; penOptional = penRepository.findById(id);

        if(!penOptional.isPresent())
        {
            throw new NotFoundException(&quot;productId-&quot; + id);
        }
        Pen pen = penOptional.get();
        Resource&lt;Pen&gt; resource = new Resource&lt;&gt;(pen);
        ControllerLinkBuilder linkTo = linkTo(methodOn(getClass()).getPens());
        resource.add(linkTo.withRel(&quot;all-books&quot;));
        return ResponseEntity.ok(resource);
    }

    @GetMapping(&quot;/repo/pens/name/{name}&quot;)
    public  ResponseEntity&lt;Resource&lt;Pen&gt;&gt;  getPenByName(@PathVariable(&quot;name&quot;) String name)
    {
        Optional&lt;Pen&gt; penOptional = penRepository.findByName(name);

        if(!penOptional.isPresent())
        {
            throw new NotFoundException(&quot;name-&quot; + name);
        }
        Pen pen = penOptional.get();
        Resource&lt;Pen&gt; resource = new Resource&lt;&gt;(pen);
        ControllerLinkBuilder linkTo = linkTo(methodOn(getClass()).getPens());
        resource.add(linkTo.withRel(&quot;all-pend&quot;));
        return ResponseEntity.ok(resource);
    }

    @GetMapping(&quot;/repo/books/color/{color}&quot;)
    public  ResponseEntity&lt;Resource&lt;Pen&gt;&gt;  getPenByColor(@PathVariable(&quot;color&quot;) String color)
    {
        Optional&lt;Pen&gt; penOptional = penRepository.findByColor(color);

        if(!penOptional.isPresent())
        {
            throw new NotFoundException(&quot;color-&quot; + color);
        }
        Pen pen = penOptional.get();
        Resource&lt;Pen&gt; resource = new Resource&lt;&gt;(pen);
        ControllerLinkBuilder linkTo = linkTo(methodOn(getClass()).getPens());
        resource.add(linkTo.withRel(&quot;all-pens&quot;));
        return ResponseEntity.ok(resource);
    }
}</pre>
</div></div></td></tr></tbody></table></div><h2 id="MappedSuperclassandTablePerClass-TESTwithRepoController">TEST with RepoController</h2><div class="table-wrap"><table data-layout="default" class="confluenceTable"><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Request</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><p>localhost:8080/repo/books</p></td><td class="confluenceTd"><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
  &quot;links&quot;: [
    {
      &quot;rel&quot;: &quot;self&quot;,
      &quot;href&quot;: &quot;http://localhost:8080/repo/books&quot;
    }
  ],
  &quot;content&quot;: [
    {
      &quot;name&quot;: &quot;Tom Sawyer&quot;,
      &quot;author&quot;: &quot;Mark Twain&quot;,
      &quot;links&quot;: [
        {
          &quot;rel&quot;: &quot;id&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/1&quot;
        },
        {
          &quot;rel&quot;: &quot;title&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/title/Tom%20Sawyer&quot;
        },
        {
          &quot;rel&quot;: &quot;author&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/author/Mark%20Twain&quot;
        }
      ]
    },
    {
      &quot;name&quot;: &quot;Catch 22&quot;,
      &quot;author&quot;: &quot;Joseph Heller&quot;,
      &quot;links&quot;: [
        {
          &quot;rel&quot;: &quot;id&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/2&quot;
        },
        {
          &quot;rel&quot;: &quot;title&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/title/Catch%2022&quot;
        },
        {
          &quot;rel&quot;: &quot;author&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/author/Joseph%20Heller&quot;
        }
      ]
    },
    {
      &quot;name&quot;: &quot;War and Peace&quot;,
      &quot;author&quot;: &quot;Lev Tolstoy&quot;,
      &quot;links&quot;: [
        {
          &quot;rel&quot;: &quot;id&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/3&quot;
        },
        {
          &quot;rel&quot;: &quot;title&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/title/War%20and%20Peace&quot;
        },
        {
          &quot;rel&quot;: &quot;author&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/author/Lev%20Tolstoy&quot;
        }
      ]
    }
  ]
}</pre>
</div></div><p><br/></p></td></tr><tr><td class="confluenceTd"><p><a href="http://localhost:8080/repo/books/1" class="external-link" rel="nofollow">http://localhost:8080/repo/books/1</a></p></td><td class="confluenceTd"><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
  &quot;name&quot;: &quot;Tom Sawyer&quot;,
  &quot;author&quot;: &quot;Mark Twain&quot;,
  &quot;links&quot;: [
    {
      &quot;rel&quot;: &quot;all-books&quot;,
      &quot;href&quot;: &quot;http://localhost:8080/repo/books&quot;
    }
  ]
}</pre>
</div></div><p><br/></p></td></tr><tr><td class="confluenceTd"><p><a href="http://localhost:8080/repo/books/title/Tom%20Sawyer" class="external-link" rel="nofollow">http://localhost:8080/repo/books/title/Tom%20Sawyer</a></p></td><td class="confluenceTd"><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
  &quot;name&quot;: &quot;Tom Sawyer&quot;,
  &quot;author&quot;: &quot;Mark Twain&quot;,
  &quot;links&quot;: [
    {
      &quot;rel&quot;: &quot;all-books&quot;,
      &quot;href&quot;: &quot;http://localhost:8080/repo/books&quot;
    }
  ]
}</pre>
</div></div><p><br/></p></td></tr><tr><td class="confluenceTd"><p><a href="http://localhost:8080/repo/books/author/Mark%20Twain" class="external-link" rel="nofollow">http://localhost:8080/repo/books/author/Mark%20Twain</a></p></td><td class="confluenceTd"><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
  &quot;name&quot;: &quot;Tom Sawyer&quot;,
  &quot;author&quot;: &quot;Mark Twain&quot;,
  &quot;links&quot;: [
    {
      &quot;rel&quot;: &quot;all-books&quot;,
      &quot;href&quot;: &quot;http://localhost:8080/repo/books&quot;
    }
  ]
}</pre>
</div></div><p><br/></p></td></tr><tr><td class="confluenceTd"><p><a href="http://localhost:8080/repo/pens" class="external-link" rel="nofollow">http://localhost:8080/repo/pens</a></p></td><td class="confluenceTd"><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
  &quot;links&quot;: [
    {
      &quot;rel&quot;: &quot;self&quot;,
      &quot;href&quot;: &quot;http://localhost:8080/repo/pens&quot;
    }
  ],
  &quot;content&quot;: [
    {
      &quot;name&quot;: &quot;ballpoint&quot;,
      &quot;color&quot;: &quot;blue&quot;,
      &quot;links&quot;: [
        {
          &quot;rel&quot;: &quot;id&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/pens/1&quot;
        },
        {
          &quot;rel&quot;: &quot;name&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/pens/name/ballpoint&quot;
        },
        {
          &quot;rel&quot;: &quot;color&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/color/blue&quot;
        }
      ]
    },
    {
      &quot;name&quot;: &quot;marker&quot;,
      &quot;color&quot;: &quot;red&quot;,
      &quot;links&quot;: [
        {
          &quot;rel&quot;: &quot;id&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/pens/2&quot;
        },
        {
          &quot;rel&quot;: &quot;name&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/pens/name/marker&quot;
        },
        {
          &quot;rel&quot;: &quot;color&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/color/red&quot;
        }
      ]
    },
    {
      &quot;name&quot;: &quot;felt-tip&quot;,
      &quot;color&quot;: &quot;green&quot;,
      &quot;links&quot;: [
        {
          &quot;rel&quot;: &quot;id&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/pens/3&quot;
        },
        {
          &quot;rel&quot;: &quot;name&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/pens/name/felt-tip&quot;
        },
        {
          &quot;rel&quot;: &quot;color&quot;,
          &quot;href&quot;: &quot;http://localhost:8080/repo/books/color/green&quot;
        }
      ]
    }
  ]
}</pre>
</div></div><p><br/></p></td></tr><tr><td class="confluenceTd"><p><a href="http://localhost:8080/repo/pens/1" class="external-link" rel="nofollow">http://localhost:8080/repo/pens/1</a></p></td><td class="confluenceTd"><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
  &quot;name&quot;: &quot;ballpoint&quot;,
  &quot;color&quot;: &quot;blue&quot;,
  &quot;links&quot;: [
    {
      &quot;rel&quot;: &quot;all-books&quot;,
      &quot;href&quot;: &quot;http://localhost:8080/repo/pens&quot;
    }
  ]
}</pre>
</div></div><p><br/></p></td></tr><tr><td class="confluenceTd"><p><a href="http://localhost:8080/repo/pens/name/ballpoint" class="external-link" rel="nofollow">http://localhost:8080/repo/pens/name/ballpoint</a></p></td><td class="confluenceTd"><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
  &quot;name&quot;: &quot;ballpoint&quot;,
  &quot;color&quot;: &quot;blue&quot;,
  &quot;links&quot;: [
    {
      &quot;rel&quot;: &quot;all-pend&quot;,
      &quot;href&quot;: &quot;http://localhost:8080/repo/pens&quot;
    }
  ]
}</pre>
</div></div><p><br/></p></td></tr><tr><td class="confluenceTd"><p><a href="http://localhost:8080/repo/books/color/blue" class="external-link" rel="nofollow">http://localhost:8080/repo/books/color/blue</a></p></td><td class="confluenceTd"><p><br/></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
  &quot;name&quot;: &quot;ballpoint&quot;,
  &quot;color&quot;: &quot;blue&quot;,
  &quot;links&quot;: [
    {
      &quot;rel&quot;: &quot;all-pens&quot;,
      &quot;href&quot;: &quot;http://localhost:8080/repo/pens&quot;
    }
  ]
}</pre>
</div></div><p><br/></p></td></tr></tbody></table></div><p />
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Feb 12, 2021 23:35</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
