<!DOCTYPE html>
<html>
    <head>
        <title>DevOps : KodeKloud Docker Tutorial</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DevOps</a></span>
                            </li>
                                                    <li>
                                <span><a href="DevOps-Home_603226548.html">DevOps Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Tutorials_278921431.html">Tutorials</a></span>
                            </li>
                                                    <li>
                                <span><a href="Docker_1143275557.html">Docker</a></span>
                            </li>
                                                    <li>
                                <span><a href="Docker-YouTube-Tutorials_1165754407.html">Docker YouTube Tutorials</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DevOps : KodeKloud Docker Tutorial
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Nicholas Guner</span>, last modified on Feb 07, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="KodeKloudDockerTutorial-InstallDockerforLinux">Install Docker for Linux</h1><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 115.0px;"/><col style="width: 643.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>URL:</strong></p></th><td class="confluenceTd"><p><code>docs.docker.com</code></p></td></tr></tbody></table></div><p>Select Docker for Linux, choose Ubuntu. Note Ubuntu supported version:</p><ul><li><p>Ubuntu Groovy 20.10</p></li><li><p>Ubuntu Focal 20.04 (LTS)</p></li><li><p>Ubuntu Bionic 18.04 (LTS)</p></li><li><p>Ubuntu Xenial 16.04 (LTS)</p></li></ul><p>Check your version:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">cat /etc/*release*</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">...
VERSION=&quot;20.04.1 LTS (Focal Fossa)&quot;
...</pre>
</div></div></td></tr></tbody></table></div><p>Uninstall older versions:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 120.0px;"/><col style="width: 638.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><p><code>sudo apt-get remove docker docker-engine docker.io containerd runc</code></p></td></tr></tbody></table></div><p>Scroll down to section “<strong>Install using the convenience script</strong>“</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Commands:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">curl -fsSL https://get.docker.com -o get-docker.sh</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">sudo sh get-docker.sh</pre>
</div></div></td></tr></tbody></table></div><p>Optionally, add your user to the docker group:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">sudo usermod -aG docker &lt;your-user&gt;</pre>
</div></div></td></tr></tbody></table></div><p>Wait for installation to complete. Log out and back in.</p><p>Check version:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">sudo docker version </pre>
</div></div></td></tr><tr><th class="confluenceTh"><p><strong>Response:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Client: Docker Engine - Community
 Version:           20.10.3
 API version:       1.41
 ...
Server: Docker Engine - Community
 Engine:
  Version:          20.10.2
  API version:      1.41 (minimum version 1.12)
  ... </pre>
</div></div></td></tr></tbody></table></div><p>Run sample application from DockerHub repository<br/></p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">sudo docker run docker/whalesay cowsay Hello-World!</pre>
</div></div></td></tr><tr><th class="confluenceTh"><p><strong>Response:</strong></p></th><td class="confluenceTd"><h2 id="KodeKloudDockerTutorial-&lt;Hello-World!&gt;">&lt; Hello-World! &gt;</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">\
 \
  \
                ##        .
          ## ## ##       ==
       ## ## ## ##      ===
   /&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;___/ ===</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">     \______ o          __/
      \    \        __/
        \____\______/</pre>
</div></div></td></tr></tbody></table></div><h1 id="KodeKloudDockerTutorial-RestartingDockerService">Restarting Docker Service</h1><p>Use one of the following options:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">sudo service docker stop
sudo service docker start</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">systemstl restart docker</pre>
</div></div><h1 id="KodeKloudDockerTutorial-DockerCommands">Docker Commands</h1><h2 id="KodeKloudDockerTutorial-Runacontainer(example:nginx)">Run a container (example: <code>nginx</code>)</h2><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run nginx</pre>
</div></div></td></tr></tbody></table></div><h2 id="KodeKloudDockerTutorial-RunContainerforspecifiedimagewithspecifiedname">Run Container for specified image with specified name</h2><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run --name &lt;name&gt; &lt;image_name&gt;</pre>
</div></div></td></tr></tbody></table></div><h2 id="KodeKloudDockerTutorial-ListContainers">List Containers</h2><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Description</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker ps</pre>
</div></div></td><td class="confluenceTd"><p>List running containers</p></td></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker ps -a</pre>
</div></div></td><td class="confluenceTd"><p>List all containers</p></td></tr></tbody></table></div><h2 id="KodeKloudDockerTutorial-StopRunningContainer">Stop Running Container</h2><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker stop &lt;container_id&gt;
docker stop &lt;container_name&gt;</pre>
</div></div></td></tr></tbody></table></div><h2 id="KodeKloudDockerTutorial-RemoveStoppedContainerfromHost">Remove Stopped Container from Host</h2><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker rm &lt;container_name&gt;</pre>
</div></div></td></tr></tbody></table></div><h2 id="KodeKloudDockerTutorial-Images">Images</h2><h3 id="KodeKloudDockerTutorial-SeeListofImagesonHost">See List of Images on Host</h3><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 211.0px;"/><col style="width: 749.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker images</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">REPOSITORY                  TAG         IMAGE ID       CREATED         SIZE
getting-started             latest      03f23bbeee7d   8 days ago      179MB
lonelyboy/getting-started   latest      03f23bbeee7d   8 days ago      179MB
&lt;none&gt;                      &lt;none&gt;      de10533bd62f   8 days ago      179MB
ubuntu                      latest      f63181f19b2f   2 weeks ago     72.9MB
alpine/git                  latest      04dbb58d2cea   2 weeks ago     25.1MB
nginx                       latest      f6d0b4767a6c   3 weeks ago     133MB
node                        12-alpine   0206ff8a5f9e   4 weeks ago     88.9MB
docker/getting-started      latest      021a1b85e641   8 weeks ago     27.6MB
hello-world                 latest      bf756fb1ae65   13 months ago   13.3kB
docker/whalesay             latest      6b362a9f73eb   5 years ago     247MB</pre>
</div></div></td></tr></tbody></table></div><h3 id="KodeKloudDockerTutorial-RemoveanImage">Remove an Image</h3><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker rmi -f &lt;iamge_name&gt;</pre>
</div></div></td></tr></tbody></table></div><p>Note:</p><ol><li><p>Use <code>-f</code> flag to force.</p></li></ol><h3 id="KodeKloudDockerTutorial-RemoveALLimages">Remove ALL images</h3><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 180.0px;"/><col style="width: 578.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Action</strong></p></th><th class="confluenceTh"><p><strong>Command</strong></p></th></tr><tr><td class="confluenceTd"><p>List all images</p></td><td class="confluenceTd"><p><code>docker images -a</code></p></td></tr><tr><td class="confluenceTd"><p>List IDs of images</p></td><td class="confluenceTd"><p><code>docker images -a -q</code></p></td></tr><tr><td class="confluenceTd"><p>Remove All images</p></td><td class="confluenceTd"><p><code>docker rmi -f $(docker images -a -q)</code></p></td></tr></tbody></table></div><p>Note:</p><ol><li><p>Use <code>-f</code> flag to force.</p></li></ol><h3 id="KodeKloudDockerTutorial-PullImagewithoutrunningit">Pull Image without running it</h3><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker pull nginx</pre>
</div></div></td></tr></tbody></table></div><h2 id="KodeKloudDockerTutorial-ExecuteCommandsonaRunningContainer">Execute Commands on a Running Container</h2><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker exec &lt;container_name&gt; cat /etc/hosts</pre>
</div></div></td></tr></tbody></table></div><h2 id="KodeKloudDockerTutorial-RunContainersinAttachedandDetachedMode">Run Containers in Attached and Detached Mode</h2><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 242.0px;"/><col style="width: 516.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Mode:</strong></p></th><th class="confluenceTh"><p><strong>Command:</strong></p></th></tr><tr><td class="confluenceTd"><p>Attached (CTRL+C to exit)</p></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run kodekloud/simple-webapp</pre>
</div></div></td></tr><tr><td class="confluenceTd"><p>Detached</p></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -d kodekloud/simple-webapp</pre>
</div></div></td></tr></tbody></table></div><p>Check running container</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 120.0px;"/><col style="width: 640.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker ps</pre>
</div></div></td></tr><tr><th class="confluenceTh"><p><strong>Response:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CONTAINER ID   IMAGE                     COMMAND           CREATED          STATUS          PORTS      NAMES
a6b504af64c4   kodekloud/simple-webapp   &quot;python app.py&quot;   32 seconds ago   Up 29 seconds   8080/tcp   vigorous_feynman</pre>
</div></div></td></tr></tbody></table></div><p>Stop the container</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 120.0px;"/><col style="width: 640.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker stop a6b</pre>
</div></div></td></tr></tbody></table></div><p>Note:</p><ol><li><p>Do not need to supply the full id. Enough to make it unique.</p></li></ol><h3 id="KodeKloudDockerTutorial-Attachtoarunningcontainer">Attach to a running container</h3><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker attach &lt;container_id&gt;</pre>
</div></div></td></tr></tbody></table></div><h1 id="KodeKloudDockerTutorial-DockerLabs">Docker Labs</h1><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>URL:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">kodekloud.com/p/docker-labs</pre>
</div></div></td></tr><tr><th class="confluenceTh"><p><strong>UID</strong></p></th><td class="confluenceTd"><p><code>nick.guner@gmail.com</code></p></td></tr><tr><th class="confluenceTh"><p><strong>PWD:</strong></p></th><td class="confluenceTd"><p><code>qazwsx12</code></p></td></tr></tbody></table></div><h1 id="KodeKloudDockerTutorial-Tags">Tags</h1><p>Run prior version of container using a tag.</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 123.0px;"/><col style="width: 635.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run redis:4.0</pre>
</div></div></td></tr></tbody></table></div><p>Notes:</p><ol><li><p><code>:4.0</code> is a tag, or a version. Check Docker Hub for available version</p></li><li><p>Not specifying a tag defaults to <code>latest</code></p></li></ol><h1 id="KodeKloudDockerTutorial-RunContainersinInteractiveMove">Run Containers in Interactive Move</h1><p>Run command did not prompt for input:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run kodekloud/simple-prompt-docker</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Welcome! Please enter your name:
Hello and Welcome !</pre>
</div></div></td></tr></tbody></table></div><p>Run in the interactive move with <code>-i</code> switch:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 403.0px;"/><col style="width: 355.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -i kodekloud/simple-prompt-docker</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Welcome! Please enter your name: Nick

Hello and Welcome Nick!</pre>
</div></div></td></tr></tbody></table></div><p>Attach Host’s terminal to container with <code>-t</code> switch: (Note: same behavior as <code>-i </code>by itself)</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 403.0px;"/><col style="width: 355.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -it kodekloud/simple-prompt-docker</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Welcome! Please enter your name: Nick

Hello and Welcome Nick!</pre>
</div></div></td></tr></tbody></table></div><h1 id="KodeKloudDockerTutorial-PortMappingandPublishing">Port Mapping and Publishing</h1><p>Run container without port mapping and notice response:</p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 454.0px;"/><col style="width: 506.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -i kodekloud/simple-webapp</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">...
Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)</pre>
</div></div></td></tr></tbody></table></div><p>Use docker inspect &lt;image_id&gt; to determine ports exposed on a container</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker inspect c8562eaf9d81</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">...
&quot;ExposedPorts&quot;: {
    &quot;3306/tcp&quot;: {},
    &quot;33060/tcp&quot;: {}
...</pre>
</div></div></td></tr></tbody></table></div><p>Find available port you your host:</p><p>Check for available port with <code>netstat -ano</code> command (from CMD)</p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 274.0px;"/><col style="width: 686.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">netstat -ano | find &quot;:80&quot;</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">TCP    0.0.0.0:80             0.0.0.0:0              LISTENING       4  </pre>
</div></div></td></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">netstat -ano | find &quot;:81&quot;</pre>
</div></div></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><p>Run container mapping Host port to container port:</p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 454.0px;"/><col style="width: 506.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -ip 81:8080 kodekloud/simple-webapp</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">...
Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)</pre>
</div></div></td></tr></tbody></table></div><p>Test with a Browser.</p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 454.0px;"/><col style="width: 506.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>IP Address:</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">localhost:81</pre>
</div></div></td><td class="confluenceTd"><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/1176371217/1176436846.png" data-image-src="attachments/1176371217/1176436846.png" data-height="52" data-width="412" data-unresolved-comment-count="0" data-linked-resource-id="1176436846" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210207-163637.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="1176371217" data-linked-resource-container-version="12" data-media-id="8df6ac53-67c8-435a-b36f-54b33f9fad95" data-media-type="file"></span><p /></td></tr></tbody></table></div><p>Check port <code>81</code></p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 274.0px;"/><col style="width: 686.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">netstat -ano | find &quot;:81&quot;</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">TCP    0.0.0.0:81             0.0.0.0:0              LISTENING       15836</pre>
</div></div></td></tr></tbody></table></div><h1 id="KodeKloudDockerTutorial-VolumeMapping">Volume Mapping</h1><p>When you stop and remove the docker container, all data in its file system is gone.</p><p>To persist data to a directory on a local host, use <code>-v</code> switch, for example:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -v /opt/datadir:/var/lib/mysql mysql</pre>
</div></div><p>to map <code>/opt/datadir</code> on the host to <code>/var/lib/mysql</code> dir on the container.</p><p>To get more detailed information on the container or image use:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker inspect &lt;name&gt;</pre>
</div></div><p>For example:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response</strong></p></th></tr><tr><td class="confluenceTd"><p /><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker images</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">REPOSITORY   IMAGE ID    
mysql        c8562eaf9d81</pre>
</div></div></td></tr><tr><td class="confluenceTd"><p /><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker inspect c8562eaf9d81</pre>
</div></div></td><td class="confluenceTd"><p /><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&quot;Volumes&quot;: {
    &quot;/var/lib/mysql&quot;: {}
},</pre>
</div></div></td></tr></tbody></table></div><p>To view logs, use:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker logs &lt;container_name&gt;</pre>
</div></div><h1 id="KodeKloudDockerTutorial-PassEnvironmentVariables">Pass Environment Variables</h1><p>Use <code>-e</code> flag, for example:</p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 567.0px;"/><col style="width: 393.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>localhost:81</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -e APP_COLOR=green -p 81:8080 kodekloud/simple-webapp</pre>
</div></div></td><td class="confluenceTd"><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/1176371217/1176436878.png" data-image-src="attachments/1176371217/1176436878.png" data-height="49" data-width="422" data-unresolved-comment-count="0" data-linked-resource-id="1176436878" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210207-172205.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="1176371217" data-linked-resource-container-version="12" data-media-id="c25254db-822b-4807-83cd-8b8b8ff680ec" data-media-type="file"></span><p /></td></tr></tbody></table></div><p>Use <code>docker inspect &lt;name&gt;</code> to determine environment variables.</p><h1 id="KodeKloudDockerTutorial-Createyourownimage">Create your own image</h1><h2 id="KodeKloudDockerTutorial-CreateaDockerfile">Create a Dockerfile</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">FROM Ubuntu
RUN apt-get update
RUN apt-get install python
RUN pip install flask
RUN pip install flask-mysql
COPY . /opt/source-code
ENTRYPOINT FLASK_APP=/opt/source-code/app.py flask run</pre>
</div></div><h2 id="KodeKloudDockerTutorial-BuildImage">Build Image</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker build Dockerfile -t lonelyboy/my-custom-app .</pre>
</div></div><p>Note: <code>-t</code> is for tagging</p><h2 id="KodeKloudDockerTutorial-PushImagetoDockerHub">Push Image to DockerHub</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker push lonelyboy/my-custom-app</pre>
</div></div><h2 id="KodeKloudDockerTutorial-ViewImageLayers">View Image Layers</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker history &lt;image_id&gt;</pre>
</div></div><h1 id="KodeKloudDockerTutorial-CMDvsENTRYPOINT">CMD vs ENTRYPOINT</h1><p>Container exits when the task terminates or exits. By default, Docker does not attach terminal to the container when it is run.</p><p>You may specify a command with the docker run, for example:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run ubuntu [COMMAND]</pre>
</div></div><p>i.e.:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run ubunty sleep 5</pre>
</div></div><p>Use CMD Dockerfile instruction to specify parameters to the command:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">FROM Ubuntu
CMD sleep 5</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">FROM Ubuntu
CMD [&quot;sleep&quot;, &quot;5&quot;]</pre>
</div></div></td></tr></tbody></table></div><p>Note the use of JSON array syntax as an option.</p><p>CMD instruction will always run command.</p><p>If we want to specify how many seconds to sleep instead of defaulting to 5, use ENTRYPONT</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ENTRYPOINT [&quot;sleep&quot;]</pre>
</div></div><p>we can how use:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run ubuntu-sleeper 10</pre>
</div></div><p>instead of:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run ubuntu-sleeper sleep 10</pre>
</div></div><p>Use both CMD and ENTRYPOINT to set default value when one is not specified:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ENTRYPOINT [&quot;sleep&quot;]
CMD [&quot;5&quot;]</pre>
</div></div><h1 id="KodeKloudDockerTutorial-DockerNetworking">Docker Networking</h1><p>Docker supplies three networks: Bridge, None, Host. Bridge is the default network.</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response:</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker network ls</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">NETWORK ID     NAME      DRIVER    SCOPE
cfb789a7904f   bridge    bridge    local
3803910e95e2   host      host      local
2192679ae4b3   none      null      local</pre>
</div></div></td></tr></tbody></table></div><p>You can specify the network:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run ubuntu</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run ubuntu --network=none</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run ubuntu --network=host</pre>
</div></div><p>All containers on the Bridge network can communicate with each other over private IP.</p><h2 id="KodeKloudDockerTutorial-PingingContainersbyIPAddress">Pinging Containers by IP Address</h2><p>List current networks:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response:</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker network ls</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">NETWORK ID     NAME      DRIVER    SCOPE
cfb789a7904f   bridge    bridge    local
3803910e95e2   host      host      local
2192679ae4b3   none      null      local</pre>
</div></div></td></tr></tbody></table></div><p>Start 2 detached alpine containers over default network bridge</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 127.0px;"/><col style="width: 631.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Commands</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run --rm -dit --name alpine1 alpine ash</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run --rm -dit --name alpine2 alpine ash</pre>
</div></div></td></tr><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker container ls</pre>
</div></div></td></tr><tr><th class="confluenceTh"><p><strong>Response</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CONTAINER ID   IMAGE     NAMES
b341b0f2806e   alpine    alpine2
42bbbca096e3   alpine    alpine1</pre>
</div></div></td></tr></tbody></table></div><p>Inspect the Bridge Network</p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 150.0px;"/><col style="width: 810.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker network inspect bridge</pre>
</div></div></td></tr><tr><th class="confluenceTh"><p><strong>Response:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&quot;Containers&quot;: {
    &quot;42bbbca096e3cd009eddba797a2def2b948e62afabfa74b08557fabbb0634cb4&quot;: {
        &quot;Name&quot;: &quot;alpine1&quot;,
        &quot;EndpointID&quot;: &quot;905c2c89681ae339ff54cf811fb4ab7a6005fe1e4dca50d3a2060982552faf41&quot;,
        &quot;MacAddress&quot;: &quot;02:42:ac:11:00:03&quot;,
        &quot;IPv4Address&quot;: &quot;172.17.0.3/16&quot;,
        &quot;IPv6Address&quot;: &quot;&quot;
    },
    &quot;b341b0f2806e766a90d7bc3a6fd4d0c3ecd5b4bef8eaa4450aed610b0bfa5c76&quot;: {
        &quot;Name&quot;: &quot;alpine2&quot;,
        &quot;EndpointID&quot;: &quot;b845178369d1a89688addc6dddb1c25fd1b2c672ef9e44f188c838c39042b7a7&quot;,
        &quot;MacAddress&quot;: &quot;02:42:ac:11:00:04&quot;,
        &quot;IPv4Address&quot;: &quot;172.17.0.4/16&quot;,
        &quot;IPv6Address&quot;: &quot;&quot;
    }
},</pre>
</div></div></td></tr></tbody></table></div><p>Attach to <code>alpine1 </code>container:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker attach alpine1</pre>
</div></div><p>Ping Google from alpine1 container:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 235.0px;"/><col style="width: 523.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response:</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ping -c 2 google.com</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">64 bytes from 172.217.12.142: seq=0 ttl=37 time=10.386 ms
64 bytes from 172.217.12.142: seq=1 ttl=37 time=11.762 ms</pre>
</div></div></td></tr></tbody></table></div><p>Ping <code>alpine2 </code>container by IP address:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 235.0px;"/><col style="width: 523.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response:</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ping -c 2 172.17.0.4</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">64 bytes from 172.17.0.4: seq=0 ttl=64 time=0.065 ms
64 bytes from 172.17.0.4: seq=1 ttl=64 time=0.205 ms</pre>
</div></div></td></tr></tbody></table></div><p>Ping <code>alpine2 </code>container by name</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 235.0px;"/><col style="width: 523.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response:</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ping -c 2 alpine2</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ping: bad address &#39;alpine2&#39;</pre>
</div></div></td></tr></tbody></table></div><p>Exit <code>alpine1 </code>(type: <code>exit</code>) and clean up</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker container stop alpine2</pre>
</div></div><h2 id="KodeKloudDockerTutorial-PingingContainersbyNameovercustomBridgeNetwork">Pinging Containers by Name over custom Bridge Network</h2><p>Create the <code>alpine-net</code> network</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker network create --driver bridge alpine-net</pre>
</div></div><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 235.0px;"/><col style="width: 523.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response:</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker network ls</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">NETWORK ID     NAME         DRIVER    SCOPE
d90a49e7f83d   alpine-net   bridge    local
cfb789a7904f   bridge       bridge    local
3803910e95e2   host         host      local
2192679ae4b3   none         null      local</pre>
</div></div></td></tr></tbody></table></div><p>Inspect the alpine-net network</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 325.0px;"/><col style="width: 433.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response:</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker network inspect alpine-net</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&quot;IPAM&quot;: {
    &quot;Driver&quot;: &quot;default&quot;,
    &quot;Options&quot;: {},
    &quot;Config&quot;: [
        {
            &quot;Subnet&quot;: &quot;172.19.0.0/16&quot;,
            &quot;Gateway&quot;: &quot;172.19.0.1&quot;
        }
    ]
},</pre>
</div></div></td></tr></tbody></table></div><p>Create 3 alpine containers, two of which use <code>alpine-net</code> network</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -dit --name alpine1 --network alpine-net alpine ash</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -dit --name alpine2 --network alpine-net alpine ash</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -dit --name alpine3 alpine ash</pre>
</div></div><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 325.0px;"/><col style="width: 433.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response:</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker container ls</pre>
</div></div><p /></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CONTAINER ID     NAMES
9530671d76ad     alpine3
7eb0cebfa9ac     alpine2
998b3fe60ba9     alpine1</pre>
</div></div></td></tr></tbody></table></div><p>Connect <code>alpine1 </code>to default bridge</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker network connect bridge alpine1</pre>
</div></div><p>Inspect the bridge network and note that <code>alpine1 </code>and <code>alpine3 </code>are connected to the default Bridge netwrok</p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 150.0px;"/><col style="width: 810.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker network inspect bridge</pre>
</div></div></td></tr><tr><th class="confluenceTh"><p><strong>Response:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&quot;Containers&quot;: {
    &quot;9530671d76ad66c575fa4c3033cf773fd4b6906fb75c9612924416d5bdc2ae4c&quot;: {
        &quot;Name&quot;: &quot;alpine3&quot;,
        &quot;EndpointID&quot;: &quot;b37146542d03bc7c0d39374ddb70164a129f6f0f970e5c4362f68fc92e3d7f2e&quot;,
        &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,
        &quot;IPv4Address&quot;: &quot;172.17.0.2/16&quot;,
        &quot;IPv6Address&quot;: &quot;&quot;
    },
    &quot;998b3fe60ba98046e2a4e5393a988efc4291142466615684c02229e4f3e7b92e&quot;: {
        &quot;Name&quot;: &quot;alpine1&quot;,
        &quot;EndpointID&quot;: &quot;a0867280b0f2017762f139b83573ff13a8c562f079cec60f1a63bb6fb3fdf1fd&quot;,
        &quot;MacAddress&quot;: &quot;02:42:ac:11:00:03&quot;,
        &quot;IPv4Address&quot;: &quot;172.17.0.3/16&quot;,
        &quot;IPv6Address&quot;: &quot;&quot;
    }
},</pre>
</div></div></td></tr></tbody></table></div><p>Inspect the alpine-net network and note that <code>alpine1 </code>and <code>alpine2 </code>are connected to it.</p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 150.0px;"/><col style="width: 810.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker network inspect alpine-net</pre>
</div></div></td></tr><tr><th class="confluenceTh"><p><strong>Response:</strong></p></th><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&quot;Containers&quot;: {
    &quot;7eb0cebfa9ac4d7b8804e4f8b289b59cbc07ee639b8ea5271091b13212b64ee5&quot;: {
        &quot;Name&quot;: &quot;alpine2&quot;,
        &quot;EndpointID&quot;: &quot;99d3b78ccf8ef4cc466b926953c5e602f279d049775fe41a6e51ba56dda82faf&quot;,
        &quot;MacAddress&quot;: &quot;02:42:ac:13:00:03&quot;,
        &quot;IPv4Address&quot;: &quot;172.19.0.3/16&quot;,
        &quot;IPv6Address&quot;: &quot;&quot;
    },
    &quot;998b3fe60ba98046e2a4e5393a988efc4291142466615684c02229e4f3e7b92e&quot;: {
        &quot;Name&quot;: &quot;alpine1&quot;,
        &quot;EndpointID&quot;: &quot;4f23e5d438eac3ec1876235e9a17a3fc53443908529f244a944d8ab6d9566559&quot;,
        &quot;MacAddress&quot;: &quot;02:42:ac:13:00:02&quot;,
        &quot;IPv4Address&quot;: &quot;172.19.0.2/16&quot;,
        &quot;IPv6Address&quot;: &quot;&quot;
    }
},</pre>
</div></div></td></tr></tbody></table></div><p>Current Connections</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 226.67px;"/><col style="width: 226.67px;"/><col style="width: 226.67px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Container</strong></p></th><th class="confluenceTh"><p><strong>IP Address</strong></p></th><th class="confluenceTh"><p><strong>Netwrok</strong></p></th></tr><tr><td class="confluenceTd"><p><code>alpine1</code></p></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">172.19.0.2</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&quot;172.17.0.3</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">alpine-net</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">bridge</pre>
</div></div></td></tr><tr><td class="confluenceTd"><p><code>alpine2</code></p></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">172.19.0.3</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">alpine-net</pre>
</div></div></td></tr><tr><td class="confluenceTd"><p><code>apline3</code></p></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">172.17.0.2</pre>
</div></div><p /></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">bridge</pre>
</div></div></td></tr></tbody></table></div><p>Attach to alpine1 container which is on both Bridge and alpine-net networks</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker container attach alpine1</pre>
</div></div><p>Ping <code>alpine2 </code>and <code>alpine3 </code>containers by IP address</p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 122.0px;"/><col style="width: 274.0px;"/><col style="width: 564.0px;"/></colgroup><tbody><tr><td class="confluenceTd"><p>alpine2</p></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ping -c 2 172.19.0.3</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">64 bytes from 172.19.0.3: seq=0 ttl=64 time=0.164 ms
64 bytes from 172.19.0.3: seq=1 ttl=64 time=0.203 ms</pre>
</div></div></td></tr><tr><td class="confluenceTd"><p>alpine3</p></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ping -c 2 172.17.0.2</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">64 bytes from 172.17.0.2: seq=0 ttl=64 time=0.158 ms
64 bytes from 172.17.0.2: seq=1 ttl=64 time=0.218 ms</pre>
</div></div></td></tr></tbody></table></div><p>Ping <code>alpine2 </code>and <code>alpine3 </code>containers by IP address</p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 122.0px;"/><col style="width: 274.0px;"/><col style="width: 564.0px;"/></colgroup><tbody><tr><td class="confluenceTd"><p>alpine2</p></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ping -c 2 alpine2</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">64 bytes from 172.19.0.3: seq=0 ttl=64 time=0.164 ms
64 bytes from 172.19.0.3: seq=1 ttl=64 time=0.203 ms</pre>
</div></div></td></tr><tr><td class="confluenceTd"><p>alpine3</p></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ping -c 2 alpine3</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ping: bad address &#39;alpine3&#39;</pre>
</div></div></td></tr></tbody></table></div><p>Clean up</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker container stop alpine2 alpine3</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker network rm alpine-net</pre>
</div></div><h1 id="KodeKloudDockerTutorial-DockerStorage">Docker Storage</h1><p>Docker files on the host are stored under <code>/var/lib/docker</code>.</p><p>However, this directory either does not exist or it is not visible.</p><p>Mare sure to restart the docker service, see <a href="https://nickguner.atlassian.net/wiki/spaces/DEV/pages/1176371217/KodeKloud+Docker+Tutorial#Restarting-Docker-Service" data-card-appearance="inline" rel="nofollow">https://nickguner.atlassian.net/wiki/spaces/DEV/pages/1176371217/KodeKloud+Docker+Tutorial#Restarting-Docker-Service</a> </p><p>How, you should see the “Permission Denied” message.</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 264.0px;"/><col style="width: 496.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response:</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">ls -l /var/lib/docker</pre>
</div></div></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&#39;/var/lib/docker&#39;: Permission denied</pre>
</div></div></td></tr></tbody></table></div><p>You may view it with a <code>screen </code>command:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">sudo screen</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">cd /var/lib/docker</pre>
</div></div><h2 id="KodeKloudDockerTutorial-MountVolume">Mount Volume</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker volume create data_volume</pre>
</div></div><p><code>data_volume</code> directory will be mounted under <code>/var/lib/docker</code></p><div class="table-wrap"><table data-layout="wide" class="confluenceTable"><colgroup><col style="width: 332.0px;"/><col style="width: 628.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Command</strong></p></th><th class="confluenceTh"><p><strong>Response:</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker volume inspect data_volume</pre>
</div></div><p /></td><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">[
    {
        &quot;CreatedAt&quot;: &quot;2021-02-07T21:34:26Z&quot;,
        &quot;Driver&quot;: &quot;local&quot;,
        &quot;Labels&quot;: {},
        &quot;Mountpoint&quot;: &quot;/var/lib/docker/volumes/data_volume/_data&quot;,
        &quot;Name&quot;: &quot;data_volume&quot;,
        &quot;Options&quot;: {},
        &quot;Scope&quot;: &quot;local&quot;
    }
]</pre>
</div></div></td></tr></tbody></table></div><p>Run <code>mysql </code>and mount volume <code>data_volume</code></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -v data_volume:/var/lib/mysql -d -e MYSQL_ROOT_PASSWORD=db_pass123 --name mysql-db mysql</pre>
</div></div><h2 id="KodeKloudDockerTutorial-BindVolume">Bind Volume</h2><p>If the volume is not mounted, Docker will mount it automatically</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -v /data/mysql:/var/lib/mysql -d -e MYSQL_ROOT_PASSWORD=db_pass123 --name mysql-db mysql</pre>
</div></div><h1 id="KodeKloudDockerTutorial-DockerCompose">Docker Compose</h1><p>Use Docker Compose for running multiple services that interface with each other.</p><p>Consider an application stack consisting of two UIs, a database, a Redis cache and a service that copies data from Redis Cache to the database:</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/1176371217/1176437015.png" data-image-src="attachments/1176371217/1176437015.png" data-height="385" data-width="522" data-unresolved-comment-count="0" data-linked-resource-id="1176437015" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210207-222916.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="1176371217" data-linked-resource-container-version="12" data-media-id="b9d69bdb-1a78-4aa8-9378-53fa38818514" data-media-type="file"></span><h2 id="KodeKloudDockerTutorial-DockerRunCommands">Docker Run Commands</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -d --name=redis redis</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -d --name-db postgres:9.4</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -d --name=vode -p 5000:80 voting-app</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -d --name=result -p 5001:80</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -d --name=worker worker</pre>
</div></div><p>Note:</p><ol><li><p>Providing names is important</p></li></ol><p>This setup will not work because containers have not been linked.</p><h2 id="KodeKloudDockerTutorial-DockerRunCommandswithLinks">Docker Run Commands with Links</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker run -d --name=redis redis
docker run -d --name-db postgres:9.4 --link db:db result-app
docker run -d --name=vode -p 5000:80 --link redis:redis voting-app
docker run -d --name=result -p 5001:80
docker run -d --name=worker --link db:db --link redis:redis worker</pre>
</div></div><p>Note: </p><ol><li><p>Use of links is deprecated</p></li></ol><div class="table-wrap"><table data-layout="default" class="confluenceTable"><colgroup><col style="width: 680.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>docker-compose.yml</strong></p></th></tr><tr><td class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">redis:
  image: redis
db:
  image: postgres:9.4
vote:
  image: voting-app
  ports:
    - 5000:80
  links:
    - redis
result
  image: result-app
  ports:
    - 5001:80
  links:
    - db
workers:
  image: worker
  links:
    - redis
    - db</pre>
</div></div></td></tr></tbody></table></div><p>Note:</p><ol><li><p>We may also build images instead of pulling them from the Hub. Replace image with build and point to the directory with Dockerfile, for example:</p></li></ol><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">vote:
  build: ./vote
  ports:
    - 5000:80
  links:
    - redis</pre>
</div></div><p>Command to start the application stack:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">docker-compose up</pre>
</div></div><h2 id="KodeKloudDockerTutorial-Versionsofdocker-compose.ymlfiles">Versions of docker-compose.yml files</h2><p>Current version has limitations:</p><ol><li><p>Can’t specify network other than the default Bridge</p></li><li><p>Can’t specify the order of components being started</p></li></ol><h2 id="KodeKloudDockerTutorial-Version2ofdocker-compose.ymlfile">Version 2 of docker-compose.yml file</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">version: 2
services:
  redis:
    image: redis
  db:
    image: postgres:9.4
  vote:
    image: voting-app
    ports:
      - 5000:80
    depends_on:
      - redis

    </pre>
</div></div><p>Note:</p><ol><li><p>Version 2 will created a dedicated Bridge network. No need to use links.</p></li><li><p>Added Depends-on feature</p></li></ol><h2 id="KodeKloudDockerTutorial-Version2ofdocker-compose.ymlfile.1">Version 2 of docker-compose.yml file</h2><p>Comes with support for Docker Swarm</p><h2 id="KodeKloudDockerTutorial-Considerfront-endandback-endnetworks">Consider front-end and back-end networks</h2><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/1176371217/1176437039.png" data-image-src="attachments/1176371217/1176437039.png" data-height="525" data-width="429" data-unresolved-comment-count="0" data-linked-resource-id="1176437039" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20210207-225609.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="1176371217" data-linked-resource-container-version="12" data-media-id="2ff558eb-db48-47d5-aaa4-a1150df40788" data-media-type="file"></span><p>docker-compose file with multiple networks</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">version: 2
services:
  redis:
    image: redis
    networks:
      - back-end
  db:
    image: postgres:9.4
    networks:
      - back-end
  vote:
    image: voting-app
    ports:
      - 5000:80
    depends_on:
      - redis
    networks:
      - front-end
      - back-end
  result:
    image: result
    networks:
      - front-end
      - back-end
networks:
  frond-end:
  back-end:
    </pre>
</div></div><p />
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/1176371217/1176436846.png">image-20210207-163637.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/1176371217/1176436878.png">image-20210207-172205.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/1176371217/1176437015.png">image-20210207-222916.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/1176371217/1176437039.png">image-20210207-225609.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Feb 12, 2021 23:36</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
