<!DOCTYPE html>
<html>
    <head>
        <title>DevOps : Eligibility Design</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DevOps</a></span>
                            </li>
                                                    <li>
                                <span><a href="DevOps-Home_603226548.html">DevOps Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Tutorials_278921431.html">Tutorials</a></span>
                            </li>
                                                    <li>
                                <span><a href="Spring-Boot_278888737.html">Spring Boot</a></span>
                            </li>
                                                    <li>
                                <span><a href="Eligibility_289898573.html">Eligibility</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DevOps : Eligibility Design
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Nicholas Guner</span> on Apr 18, 2020
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>Let's consider a following example relating Rules and Privileges. A privilege is request for a permission to &quot;do something&quot;, such as gain access to some application. However, in our example, we will think of privileges as requests for some perks, such as free coffee, company car, or an extended vacation.</p><p>An eligibility Rule is a mechanism that determines whether you may request a privilege based on your credentials, such as your location, department, level, or anything else.</p><p>Let's consider some examples:</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/289865876.png" data-image-src="attachments/290029675/289865876.png" data-height="496" data-width="723" data-unresolved-comment-count="0" data-linked-resource-id="289865876" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-202751.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="cba72287-036e-421a-ace5-4507bfda39e2" data-media-type="file"></span><p>Let us analyze some of the cases presented above.</p><ol><li><p>If requester is located in <code>Singapore</code>, works for department <code>T123</code> and have a level of either <code>VP</code> of <code>MD</code>, he may request <code>Refreshments</code>. Everyone else will be disallowed.</p></li><li><p>Similarly, anyone who is  &quot;<code>Location = 'Moscow', Dept = 'T999', Level = 'MD'&quot;</code> they may request <code>Transport</code>. Everyone else will be disallowed.</p></li><li><p>Anyone with a level of <code>MD</code> may request <code>Big Perks</code></p></li><li><p><code>Contingent</code> workers may not request <code>GSU Training</code>, everyone else is allowed.</p></li></ol><h1 id="EligibilityDesign-DataModel">Data Model</h1><h3 id="EligibilityDesign-KeyStore">Key Store</h3><p>The <code>KEY_STORE</code> table will be used to store Key-Value Pairs. From the example above, our <code>KEY_STORE</code> table may look like this:</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/290029684.png" data-image-src="attachments/290029675/290029684.png" data-height="363" data-width="204" data-unresolved-comment-count="0" data-linked-resource-id="290029684" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-202828.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="5160c63b-c0c5-401a-8aec-beb69447aa0e" data-media-type="file"></span><h3 id="EligibilityDesign-Properties&amp;Rules">Properties &amp; Rules</h3><p>The <code>PROPERTIES</code> table will allow us to represent a single row, such as: <code>&quot;Dept: T999, Location: Moscow, Level: MD&quot;</code>. If we wanted to include multiple levels, such as <code>VP</code> or <code>MD</code>, we would create another <code>PROPERTIES</code> record.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/289865894.png" data-image-src="attachments/290029675/289865894.png" data-height="582" data-width="637" data-unresolved-comment-count="0" data-linked-resource-id="289865894" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-202926.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="93e9af14-4d5b-4947-8fd9-a3cea693ad48" data-media-type="file"></span><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/289865900.png" data-image-src="attachments/290029675/289865900.png" data-height="151" data-width="646" data-unresolved-comment-count="0" data-linked-resource-id="289865900" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-202951.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="d47e937d-6599-4c6f-8ffe-3a6996309b8e" data-media-type="file"></span><p>Rules allow us to group multiple properties together and to designate <code>Allow</code> or <code>Disallow</code> acces</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/289865908.png" data-image-src="attachments/290029675/289865908.png" data-height="224" data-width="314" data-unresolved-comment-count="0" data-linked-resource-id="289865908" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-203017.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="5dc05ba0-16c8-48ea-b424-94c8e76d282c" data-media-type="file"></span><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/289898601.png" data-image-src="attachments/290029675/289898601.png" data-height="487" data-width="706" data-unresolved-comment-count="0" data-linked-resource-id="289898601" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-203036.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="6cf68376-dbe6-492a-9d0c-819ba99ee79b" data-media-type="file"></span><h3 id="EligibilityDesign-Duties">Duties</h3><p>Rules map to Duties to determine whether to grant the request. A Duty is a grouping of privileges</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/290029692.png" data-image-src="attachments/290029675/290029692.png" data-height="136" data-width="202" data-unresolved-comment-count="0" data-linked-resource-id="290029692" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-203100.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="18c46252-1a5e-4c4c-bea9-b8e7b2046c9b" data-media-type="file"></span><p>Thus, we will need a table to represent individual Privileges, Duties, a mapping between Duties and Privileges.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/289865922.png" data-image-src="attachments/290029675/289865922.png" data-height="418" data-width="231" data-unresolved-comment-count="0" data-linked-resource-id="289865922" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-203125.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="8c08180a-09ea-411e-956d-6edd5b74aa73" data-media-type="file"></span><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/290029698.png" data-image-src="attachments/290029675/290029698.png" data-height="187" data-width="153" data-unresolved-comment-count="0" data-linked-resource-id="290029698" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-203148.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="d52a1fd3-f751-4ae0-9d6f-437c7a4d1319" data-media-type="file"></span><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/289865932.png" data-image-src="attachments/290029675/289865932.png" data-height="639" data-width="529" data-unresolved-comment-count="0" data-linked-resource-id="289865932" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-203210.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="848f9a03-f7b0-4b93-8344-359c3275ccd4" data-media-type="file"></span><h3 id="EligibilityDesign-RulestoDutiesMap">Rules to Duties Map</h3><p>We may want to express following relationships:</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/290029708.png" data-image-src="attachments/290029675/290029708.png" data-height="247" data-width="930" data-unresolved-comment-count="0" data-linked-resource-id="290029708" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-203240.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="72dcd989-c6c2-4611-968d-980aca29bcbe" data-media-type="file"></span><h3 id="EligibilityDesign-Users">Users</h3><p>We need to create a few users who would qualify for various Rules</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/290029714.png" data-image-src="attachments/290029675/290029714.png" data-height="447" data-width="442" data-unresolved-comment-count="0" data-linked-resource-id="290029714" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-203310.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="72fbfcca-f214-48c4-9849-c7f4ea8c47ce" data-media-type="file"></span><h1 id="EligibilityDesign-CheckingEligibility">Checking Eligibility</h1><p>Eligibility request provides two inputs: the User who is requesting the privilege and the privilege being requested. For example:</p><div class="table-wrap"><table data-layout="default" class="confluenceTable"><tbody><tr><th data-highlight-colour="#e0e0e0" class="confluenceTh"><p><strong>User</strong></p></th><th data-highlight-colour="#e0e0e0" class="confluenceTh"><p><strong>Privilege</strong></p></th><th data-highlight-colour="#e0e0e0" class="confluenceTh"><p><strong>Is Eligible</strong></p></th></tr><tr><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Nick</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>fat bonus</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>No</code></p></td></tr><tr><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Nick</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>pluralsight subscription</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Yes</code></p></td></tr><tr><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Ivan</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>free car</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Yes</code></p></td></tr><tr><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Ivan</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>extended vacation</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Yes</code></p></td></tr><tr><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Andy</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>free car</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>No</code></p></td></tr><tr><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Andy</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>fat bonus</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Yes</code></p></td></tr><tr><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Joe</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>free coffee</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>No</code></p></td></tr><tr><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>Joe</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>online courses</code></p></td><td data-highlight-colour="#edf5ff" class="confluenceTd"><p><code>No</code></p></td></tr></tbody></table></div><h3 id="EligibilityDesign-HowEligibilityisdetermined">How Eligibility is determined</h3><p>As demonstrated earlier, each User object carries information about his/hers location, department, and level.</p><p>Let's say that user &quot;<code>Ivan</code>&quot; asks for a &quot;<code>free coffee</code>&quot; privilege.</p><p>From this privilege, we can determine the <code>Duty</code> it belongs to, for example:</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/289865944.png" data-image-src="attachments/290029675/289865944.png" data-height="563" data-width="304" data-unresolved-comment-count="0" data-linked-resource-id="289865944" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-203448.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="747c5642-f285-4378-9b5b-83d134ab48e7" data-media-type="file"></span><p>Privilege &quot;<code>free coffee</code>&quot; is part of the <code>Refreshments</code> duty.</p><p>Duties are associated with Rules. Thus, if a user Ivan requests &quot;<code>free coffee</code>&quot;, we check Eligibility Rules that are associated with Refreshments Duty. </p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/290029724.png" data-image-src="attachments/290029675/290029724.png" data-height="154" data-width="682" data-unresolved-comment-count="0" data-linked-resource-id="290029724" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-203514.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="2a3c5f52-2582-4d1d-b888-d1db1bcc5ff4" data-media-type="file"></span><p>Since user Ivan's location and department does not match this rule, he is denied the &quot;f<code>ree coffee</code>&quot; privilege.</p><p>User Ivan is upset about not being able to get &quot;<code>free coffee</code>&quot; and decides to ask for an &quot;<code>online courses</code>&quot; privilege to calm his nerves.</p><p>The &quot;online courses&quot; corresponds to the Training duty.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/290029675/289898615.png" data-image-src="attachments/290029675/289898615.png" data-height="123" data-width="433" data-unresolved-comment-count="0" data-linked-resource-id="289898615" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20200418-203538.png" data-base-url="https://nickguner.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="290029675" data-linked-resource-container-version="1" data-media-id="7e2e0598-8257-4e2f-a2cb-98804d0a9479" data-media-type="file"></span><p>From the Rule we discover that only <code>Contingent</code> workers are not allowed for the <code>Training</code> duty. Thus, Ivan is allowed to take the online course.</p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/289865876.png">image-20200418-202751.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/290029684.png">image-20200418-202828.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/289865894.png">image-20200418-202926.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/289865900.png">image-20200418-202951.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/289865908.png">image-20200418-203017.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/289898601.png">image-20200418-203036.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/290029692.png">image-20200418-203100.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/289865922.png">image-20200418-203125.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/290029698.png">image-20200418-203148.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/289865932.png">image-20200418-203210.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/290029708.png">image-20200418-203240.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/290029714.png">image-20200418-203310.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/289865944.png">image-20200418-203448.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/290029724.png">image-20200418-203514.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/290029675/289898615.png">image-20200418-203538.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Feb 12, 2021 23:35</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
